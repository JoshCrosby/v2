;function attachDropFiles(e){var n=e.files;if(n.length==0){return};for(var t=0;t<n.length;t++){var r=n[t],i=new FileReader();i.setAttribute('data-filename',e.name+'_'+t+'_base64');i.onload=function(e){var t=document.createElement('textarea');t.name=this.getAttribute('data-filename');t.innerHTML=e.target.result};i.readAsDataURL(r)}};function autoFill(e,t,n){if(undefined==n){n=0};var a=[],u=GetElementsByAttribute('div','id',t);for(i=0;i<u.length;i++){var o=u[i].getAttribute('name');if(o!='null'){var f=getText(u[i]);a[o]=f}};for(var i=0;i<e.length;i++){var l=e[i].type,o=e[i].getAttribute('name'),r=o.replace(/\[/,'');r=r.replace(/\]/,'');var p=a[r];if(n){e[i].style.backgroundColor='#FFFFFF';e[i].style.color='#000000';e[i].style.border='1px solid #7f9db9';if(l=='textarea'){e[i].readOnly=!0}else if(l=='text'){e[i].readOnly=!0}else{e[i].disabled=!0}};if(undefined!=a[r]){if(l=='checkbox'){var d=a[r].split(':'),c=e[i].getAttribute('value');for(s=0;s<d.length;s++){if(c==d[s]){e[i].checked=!0}}}else{e[i].value=a[r]}}}};function ajaxAddEditForm(e,t,n,i){var r='_action=editform&-table='+e,a='Add New Record';if(undefined!=t&&t>0){r+='&_id='+t;a='Edit Record'};if(undefined!=n){r+='&-fields='+n};if(undefined!=i){r+='&'+i};ajaxPopup('/php/index.php',r,{id:'centerpop'});return!1};function autoGrow(e,t){if(undefined==t){t=400};if(e.scrollHeight<t&&e.scrollHeight>e.clientHeight&&!window.opera){e.style.height=e.scrollHeight+'px'}};function comboCompleteMatch(e,t){e=e.toLowerCase();for(var n=0;n<t.length;n++){aval=t[n].toLowerCase();if(aval.indexOf(e)==0){return n}};return-1};function comboComplete(e,t,n){var f=getText(n),o=f.split('\n'),r=[];for(var a=0;a<o.length;a++){if(undefined==o[a]){continue};var d=trim(o[a]);if(d.length==0){continue};var s=d.match(/tval="(.+?)"/ig);if(undefined==s){continue};for(m in s){var c=s[m]+'';if(c.indexOf('tval="')!=-1){var u=c.replace('tval="','');u=u.replace(/"$/,'');r.push(u)}}};var p=parseInt(t.keyCode);switch(p){case 38:if(undefined!=e.getAttribute('last_index')){var i=parseInt(e.getAttribute('last_index'));if(i>0){i=i-1;if(undefined!=r[i]){e.value=r[i].replace('&amp;','&');e.setAttribute('last_index',i);textboxSelect(e,l,e.value.length);return!1}}};break;case 40:if(undefined!=e.getAttribute('last_index')){var i=parseInt(e.getAttribute('last_index'));if(i<r.length){i=i+1;if(undefined!=r[i]){e.value=r[i].replace('&amp;','&');e.setAttribute('last_index',i);textboxSelect(e,l,e.value.length);return!1;break}}};break;case 37:case 39:case 33:case 34:case 36:case 35:case 13:case 9:case 27:case 16:case 17:case 18:case 20:case 8:case 46:return!0;break;default:textboxReplaceSelect(e,String.fromCharCode(isIE?t.keyCode:t.charCode));var l=e.value.length,i=comboCompleteMatch(e.value,r);if(i>-1){e.value=r[i].replace('&amp;','&');e.setAttribute('last_index',i);textboxSelect(e,l,e.value.length)};return!1}};function fielddataChange(e){var i=getParentForm(e),t=i.name,r=e.name,a=e.value,n=i['required'];switch(r){case'inputtype':switch(a){case'slider':setText(t+'_height_dname','Min');setText(t+'_inputmax_dname','Max');setText(t+'_required_dname','Step');n.type='text';n.style.width='25px';break;default:setText(t+'_height_dname','Height');setText(t+'_inputmax_dname','Inputmax');setText(t+'_required_dname','Required');n.type='checkbox';n.style.width='';break};break}};function filemanagerEdit(e,t,n){var a=getObject(e),o=a.getAttribute('filename'),s=getText(a),i='';i+='<form class="w_form" method="post" action="/'+t+'" onSubmit="return submitForm(this);">\n';i+='<table class="w_table w_nopad">\n';i+='<tr><th>Name</th><td><input type="text" name="file_name" value="'+o+'" style="width:300px;"></td></tr>\n';i+='<tr><th>Desc</th><td><textarea name="file_desc" style="width:300px;height:60;" onkeypress="autoGrow(this,200);">'+s+'</textarea></td></tr>\n';i+='<tr><td align="right" colspan="2"><input type="submit" value="Save Changes"></td></tr>\n';i+='</table>\n';if(n){i+='<div style="display:none" id="params">\n';for(var r in n){i+='<textarea name="'+r+'">'+n[r]+'</textarea>\n'};i+='</div>\n'};i+='</form><br />\n';popUpDiv(i,{title:'filemanager Edit',drag:1,center:'x',y:'-100',width:350});return!1};function formatPhone(e){var t=e;t=t.replace(/\(/g,'');t=t.replace(/\)/g,'');t=t.replace(/\-/g,'');t=t.replace(/[a-zA-z]/g,'');t=t.replace(/\s+/g,'');var r=t.substr(0,3),i=t.substr(3,3),n=t.substr(6,4);t=r;if(i.length>0){t+='-'+i};if(n.length>0){t+='-'+n};return t};function formatCalendar(e){var t=e;t=t.replace(/\(/g,'');t=t.replace(/\)/g,'');t=t.replace(/\-/g,'');t=t.replace(/[a-zA-z]/g,'');t=t.replace(/\s+/g,'');var r=t.substr(0,2),i=t.substr(2,2),n=t.substr(4,4);t=r;if(i.length>0){t+='-'+i};if(n.length>0){t+='-'+n};return t};function getElementForm(e){while(e&&undefined!=e.nodeName&&e.nodeName!='FORM'){e=e.parentNode};return e};function dynamicSelect(e,t,n){if(undefined==e){return!1};if(undefined==t){t='other'};var a=e.name;if(e.getAttribute('data-displayname')){a=e.getAttribute('data-displayname')}else if(e.getAttribute('displayname')){a=e.getAttribute('displayname')};if(undefined==n){n='Enter '+t+' "'+a+'" below and click OK.'};if(e.value.toLowerCase()==t.toLowerCase()){var i=prompt(n);if(undefined!=i&&i.length>0){for(var r=0;r<e.options.length;r++){if(e.options[r].value==i){e.value=e.options[r].value;return!1}};e.options[e.length]=new Option(i.toLowerCase(),i);e.value=i}};return!1};var timer_heartbeat='';function scheduleHeartbeat(e,t){if(undefined==e){e='null'};if(undefined==t){t=600};var n=parseInt(t*1000);clearTimeout(timer_heartbeat);timer_heartbeat=setTimeout('heartbeat(\''+e+'\','+t+')',n)};function heartbeat(e,t){if(undefined==e){e='null'};if(undefined==t){t=60};ajaxGet('/php/index.php',e,'_heartbeat=1&t='+t+'&div='+e)};var timer_session_errors='';function scheduleSessionErrors(e,t){if(undefined==e){e='null'};if(undefined==t){t=600};var n=parseInt(t*1000);clearTimeout(timer_heartbeat);timer_session_errors=setTimeout('sessionErrors(\''+e+'\','+t+')',n)};function sessionErrors(e,t){if(undefined==e){e='null'};if(undefined==t){t=60};ajaxGet('/php/admin.php',e,'_menu=session_errors&t='+t+'&div='+e)};function redrawField(e,t){var r=getElementForm(t),l=r.getAttribute('name'),u=l+'_'+e+'_content',o=r['_table'].value,s=o+':'+e,a={r$:s,opt_0:t.name,val_0:t.value};var i=r[e];for(var n=0;n<i.attributes.length;n++){if(i.attributes.item(n).specified){a['att_'+i.attributes.item(n).nodeName]=i.attributes.item(n).value}};ajaxGet('/php/index.php',u,a);return!1};function changeModelType(e){var i=getElementForm(e),t='';if(undefined!=i['_id']){t=getText(i['functions']);if(t.length>0){return}};var n=i['name'].value;t='';if(e.value==0){}else{t+='<?php\r\n';t+='/* Available functions: Each function should return the array that was passed in.\r\n';t+='\r\n';t+='	//addDBRecord triggers\r\n';t+='	function '+n+'AddBefore($params=array()){}\r\n';t+='	function '+n+'AddSuccess($params=array()){}\r\n';t+='	function '+n+'AddFailure($params=array()){}\r\n';t+='\r\n';t+='	//editDBRecord triggers\r\n';t+='	function '+n+'EditBefore($params=array()){}\r\n';t+='	function '+n+'EditSuccess($params=array()){}\r\n';t+='	function '+n+'EditFailure($params=array()){}\r\n';t+='\r\n';t+='	//delDBRecord triggers\r\n';t+='	function '+n+'DeleteBefore($params=array()){}\r\n';t+='	function '+n+'DeleteSuccess($params=array()){}\r\n';t+='	function '+n+'DeleteFailure($params=array()){}\r\n';t+='\r\n';t+='	//getDBRecord, listDBRecords, and getDBRecords trigger\r\n';t+='	function '+n+'GetRecord($rec=array()){}\r\n';t+='*/\r\n\r\n';t+='?>\r\n'};setText(i['functions'],t)};function remindMeForm(){var t='remindMePopup',e='';e+='	<div class="w_centerpop_content" id="remindmediv" style="width:300px;">\n';e+='		<form method="POST" name="remindMe" class="w_form" action="/php/index.php" onSubmit="ajaxSubmitForm(this,\'remindmediv\');return false;">\n';e+='			<input type="hidden" name="_remind" value="1">\n';e+='			<input type="hidden" name="tname" value="remind me">\n';e+='			<div class="w_gray"> Enter the email address tied to your account profile to have your username and password emailed to you.</div>\n';e+='			<div><span class="icon-mail"></span> <b>Email Address</b></div>\n';e+=' 			<div><input type="text" maxlength="255" name="email" placeholder="email address" pattern=".+@.+..{2,6}" data-pattern-msg="Invalid Email Address" data-required="1" data-requiredmsg="Enter the email address you registered with." value="" onFocus="this.select();" class="form-control"></div>\n';e+='			<div align="right" style="margin-right:2px;margin-top:5px;"><button type="submit" class="btn btn-primary w_formsubmit">Remind Me</button></div>\n';e+='		</form>';e+='	</div>\n';var n='<span class="icon-info"></span> Remind Me Form';popUpDiv('',{id:t,width:300,height:50,drag:1,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:'padding:0px;border:0px;background:none;'});setCenterPopText(t,e,{title:n});document.remindMe.email.focus();return!1};function setProcessing(e,t,n){if(undefined==n){n=1};if(undefined==t){t='Processing ...'};var i=getProcessingDiv(e,t,n);setText(e,i);return};function getProcessingDiv(e,t,n){if(undefined==n){n=1};if(undefined==t){t='Processing. Please Wait ...'};var i='<div style="display:table-cell;">';i+='<div><img src="/wfiles/loading_blu.gif" alt="loading" /> '+t+'</div>';if(n==1){i+='<div align="right" style="padding:5px 0 0 0;"><a href="#cancel" onclick="return ajaxAbort(\''+e+'\');" class="btn btn-default btn-sm" style="display:table-cell;padding:0 2px 0 2px;font-size:14px;">Cancel <span class="icon-cancel-circled" style="font-size:18px;"></span></a></div>'};i+='</div>';return i};function submitRemindMeForm(e){setProcessing('reminderMessage');ajaxSubmitForm(e,'remindMeForm_Body');return!1};function setDateTimeBox(e,t,n,i,r){if(undefined==t||t.length==0){var s=new Date();t=s.getMonth()+'-'+s.getDate()+'-'+s.getFullYear()};var a=t.split('-',3);n=parseInt(n*1);if(r=='PM'){n=n+12};if(n<10){n='0'+n};if(i.length==1){i='0'+i};var o=a[2]+'-'+a[0]+'-'+a[1]+' '+n+':'+i+':00';setText(e,o);return 1};function setSliderText(e){var n=e.value,t=getAllAttributes(e);if(undefined==t['data-label']){return};if(undefined!=t['data-labelmap']){t['data-labelmap']=str_replace('\'','"',t['data-labelmap']);var i=JSON.parse(t['data-labelmap']);if(undefined!=i[n]){setText(t['data-label'],i[n]);return}};setText(t['data-label'],n)};function setTimeBox(e,t,n,i){t=parseInt(t*1);if(i=='PM'){t=t+12};if(t.length==1){t='0'+t};if(n.length==1){n='0'+n};var r=t+':'+n+':00';setText(e,r);return 1};function showColors(e,t,n){window.status=e+','+t+','+n;var i=document.getElementById(t);i.innerHTML=e;i=document.getElementById(n);i.style.backgroundColor=e};function showColor(e){showColors(e,'show_hex','show_color')};var setHexObj,setHexDiv,setHexImg;function selectColor(e,t,n){setHexObj=t;setHexDiv=e;setHexImg=n;ajaxGet('/wfiles/colortable.html',e)};function colorSelector(e){var t=getObject(e);if(undefined==t){alert(e+' does not exist');return!1};var i=getObject(e+'_wrapper');if(undefined!=i){removeId(i);return!1};t.style.position='relative';this.iconid=e+'_icon';var r=getObject(this.iconid),a=getHeight(t);this.wrapper=document.createElement('div');this.wrapper.style.width='115px';this.wrapper.style.height='134px';this.wrapper.id=e+'_wrapper';this.wrapper.style.position='absolute';this.wrapper.style.top=a+'px';this.wrapper.style.left='0px';this.wrapper.style.zIndex='99999';this.wrapper.style.border='1px solid #C0C0C0';this.wrapper.style.backgroundColor='#FFFFFF';this.wrapper.style.borderBottom='10px solid #C0C0C0';r.insertAdjacentElement('afterEnd',this.wrapper);this.colorbox=document.createElement('div');this.colorbox.style.width='80px';this.colorbox.style.height='100px';this.colorbox.style.position='absolute';this.colorbox.style.top='0px';this.colorbox.style.left='0px';this.colorbox.style.cursor='crosshair';this.colorbox.id=e+'_colorbox';this.wrapper.insertAdjacentElement('afterBegin',this.colorbox);this.slider=document.createElement('div');this.slider.style.width='35px';this.slider.style.height='100px';this.slider.style.position='absolute';this.slider.style.top='0px';this.slider.style.right='0px';this.slider.style.cursor='crosshair';this.slider.id=e+'_slider';this.wrapper.insertAdjacentElement('afterBegin',this.slider);this.valuebox=document.createElement('div');this.valuebox.style.width='115px';this.valuebox.style.height='24px';this.valuebox.style.position='absolute';this.valuebox.style.top='100px';this.valuebox.style.left='0px';this.valuebox.id=e+'_valuebox';this.wrapper.insertAdjacentElement('afterBegin',this.valuebox);this.setid=e+'_set';this.btnid=e+'_btn';this.lineid=e+'_line';var n='<div style="font-size:14px;height:30px;width:115px;font-family:arial;position:relative;">';n+='<div style="position:absolute;top:0px;right:3px;cursor:pointer;" onclick="colorSelectorSet(\''+e+'\')" title="Set Color"><span id="'+this.btnid+'" class="icon-checkbox" style="font-size:18px;cursor:pointer;color:none;"></span></div>';n+='<div style="position:absolute;top:0px;left:5px;" id="'+this.setid+'"></div>';n+='</div>';setText(this.valuebox,n);this.picker=ColorPicker(this.slider,this.colorbox,function(e,t,n){var a=this.control_id+'_btn',r=this.control_id+'_set',i=this.control_id+'_wrapper';e=e.toUpperCase();setText(r,e);setStyle(a,'color',e);setStyle(i,'borderBottom','10px solid '+e)});this.picker.control_id=e;this.picker.id=this.wrapper.id;if(t.value.length){this.picker.setHex(t.value)};return!1};function colorSelectorSet(e){var r=e+'_set',i=e+'_wrapper',n=e+'_icon',t=getText(r);setText(e,t);setStyle(n,'color',t);removeId(i);return!1};function setHex(e){setText(setHexObj,e);setText(setHexDiv,'');setStyle(setHexImg,'backgroundColor',e)};function showToolbar(e,t){var i=GetElementsByAttribute('div','id','toolbar');for(var n=0;n<i.length;n++){var r=i[n].getAttribute('field'),a=i[n].getAttribute('category');if(r==e&&a==t){i[n].style.display='block'}else{i[n].style.display='none'}}};function setRadioLabel(e){var i=GetElementsByAttribute('input','name','^'+e+'$');for(var n=0;n<i.length;n++){var a=i[n].id,r=GetElementsByAttribute('label','for','^'+a+'$');for(var t=0;t<r.length;t++){if(i[n].checked){setClassName(r[t],'w_checklist_checked')}else{setClassName(r[t],'w_checklist')}}}};function setLabelChecked(e,t,n,r,a){var s=GetElementsByAttribute('label',e,'^'+t+'$'),o=0;if(undefined!=r&&undefined!=a){for(var i=0;i<s.length;i++){if(n){setClassName(s[i],a)}else{setClassName(s[i],r)}}}else{for(var i=0;i<s.length;i++){if(n){setClassName(s[i],'w_checklist_checked')}else{setClassName(s[i],'w_checklist')}}};return!0};function checkAllElements(e,t,n){var r=GetElementsByAttribute('input',e,'^'+t+'$'),a=0;for(var i=0;i<r.length;i++){if(r[i].type=='checkbox'){r[i].checked=n;a++}};if(n){return a};return 0};function setTimeField(e,t){var r=new Date(),s=r.getMonth()+1;if(s.length==1){s='0'+s};var a=r.getDate();if(a.length==1){a='0'+a};var l=s+'-'+a+'-'+r.getFullYear(),i=r.getHours(),o=r.getMinutes();if(o<10){o='0'+o};var u='am';if(i==0){i=12;u='am'}else if(i>12){i=i-12;u='pm'};if(i<10){i='0'+i};var n=getObject(e+'_'+t+'_date');if(undefined!=n){n.value=l};var n=getObject(e+'_'+t+'_hour');if(undefined!=n){n.value=i};var n=getObject(e+'_'+t+'_minute');if(undefined!=n){n.value=o};var n=getObject(e+'_'+t+'_ampm');if(undefined!=n){n.value=u}};function insertAtCursor(e,t){var n=getObject(e);if(document.selection){n.focus();sel=document.selection.createRange();sel.text=t}else if(n.selectionStart||n.selectionStart=='0'){var i=n.selectionStart,r=n.selectionEnd;n.value=n.value.substring(0,i)+t+n.value.substring(r,n.value.length)}else{n.value+=t}};function isCreditCardNumber(e){var l='0123456789',i=e.length,n=parseInt(e),a=e.toString();a=a.replace(/^\s+|\s+$/g,'');var s=0,c=!0,u,t;for(var r=0;r<i;r++){u=''+a.substring(r,r+1);if(l.indexOf(u)=='-1'){return!1}};if(i>=15&&i<=20){for(var o=i;o>0;o--){t=parseInt(n)%10;t=parseInt(t);s+=t;o--;n=n/10;t=parseInt(n)%10;t=t*2;switch(t){case 10:t=1;break;case 12:t=3;break;case 14:t=5;break;case 16:t=7;break;case 18:t=9;break;default:t=t};n=n/10;s+=t};var d=s%10;if(d==0){return!0}else{return!1}};return!1};function textboxSelect(e,t,n){switch(arguments.length){case 1:e.select();break;case 2:n=e.value.length;case 3:if(isIE){var i=e.createTextRange();i.moveStart('character',t);i.moveEnd('character',-e.value.length+n);i.select()}else if(isMoz){e.setSelectionRange(t,n)};break};e.focus()};function textboxReplaceSelect(e,t){if(isIE){var n=document.selection.createRange();n.text=t;n.collapse(!0);n.select()}else if(isMoz){var i=e.selectionStart;e.value=e.value.substring(0,i)+t+e.value.substring(e.selectionEnd,e.value.length);e.setSelectionRange(i+t.length,i+t.length)};e.focus()};function submitForm(e,n,r,f){if(undefined==r){r==0};if(undefined==f){f==0};if(undefined==e){alert('No form object passed to submitForm');return!1};if(undefined!=e.t$){if(e.t$.value=='Delete'){return!0}};n=1;var o=[];o['alpha']='^[a-zA-Z_\\-\\?\\ \\\']+$';o['alphanumeric']='^[0-9a-zA-Z_\\-\\.\\?\\ \\\']+$';o['calendar']='^[0-9]{1,2}\\-[0-9]{1,2}\\-[0-9]{1,4}$';o['email']='.+@.+\\..{2,6}';o['integer']='^[0-9]+$';o['hexcolor']='^#[abcdef0-9]{6,6}$';o['decimal']='^[0-9]*\\.[0-9]+$';o['number']='(^[0-9]+$)|(^\\.[0-9]+$)|(^[0-9]+\\.[0-9]+$)';o['phone']='^([0-9]{3,3}[\\-\\.][0-9]{3,3}[\\-\\.][0-9]{4,4}|\\([0-9]{3,3}\\)\\ [0-9]{3,3}[\\-][0-9]{4,4})$';o['time']='^[0-9]{1,2}\\:[0-9]{2}$';o['ssn']='^[0-9]{3,3}\\-[0-9]{2,2}\\-[0-9]{4,4}$';o['zipcode']='^[0-9]{5,5}(\\\-[0-9]{4,4})*$';if(e.length==0){return!1};if(r==1){alert('Form length: '+e.length)};var b=[];for(var t=0;t<e.length;t++){if(r==1){alert('Checking '+e[t].name+' of type '+e[t].type)};if(!in_array(e[t].name,b)&&e[t].name!='_formfields'){b[b.length]=e[t].name};if(e[t].name=='password'&&undefined!=e.password_confirm){if(e[t].value.length==0||e.password_confirm.value.length==0){submitFormAlert('Password is required',n,5);e[t].focus();return!1};if(e[t].value!=e.password_confirm.value){submitFormAlert('Passwords do not match.  Please retype password.',n,5);e[t].focus();return!1}};if(e[t].name=='email'&&undefined!=e.email_confirm){if(e[t].value.length==0||e.email_confirm.value.length==0){submitFormAlert('Email is required',n,3);e[t].focus();return!1};if(e[t].value!=e.email_confirm.value){submitFormAlert('Emails do not match.',n,3);e[t].focus();return!1}};var a=e[t].name;if(e[t].getAttribute('data-displayname')){a=e[t].getAttribute('data-displayname')}else if(e[t].getAttribute('displayname')){a=e[t].getAttribute('displayname')};var y=0;if(undefined!=e[t].getAttribute('_required')){y=e[t].getAttribute('_required')}else if(undefined!=e[t].getAttribute('data-required')){y=e[t].getAttribute('data-required')}else if(undefined!=e[t].getAttribute('required')){y=e[t].getAttribute('required')};if(y==1){var c=e[t].getAttribute('data-requiredmsg');if(undefined==c){c=e[t].getAttribute('requiredmsg')};if(e[t].type=='checkbox'){var w='name';if(e[t].getAttribute('checkname')){w=e[t].getAttribute('checkname')};var L=e[t].getAttribute(w),d=GetElementsByAttribute('input',w,L),m=0;for(var u=0;u<d.length;u++){if(d[u].type=='checkbox'&&d[u].checked){m++}else if(d[u].type=='text'&&d[u].value!=''){m++}};if(m==0){var i=a+' is required';if(undefined!=c){i=c};submitFormAlert(i,n,5);e[t].focus();return!1}}else if(e[t].type=='radio'){var d=GetElementsByAttribute('input','name',e[t].name),m=0;for(var u=0;u<d.length;u++){if(d[u].type=='radio'&&d[u].checked){m++}else if(d[u].type=='text'&&d[u].value!=''){m++}};if(m==0){var i=a+' is required';if(undefined!=c){i=c};submitFormAlert(i,n,5);e[t].focus();return!1}}else if(e[t].type=='textarea'){var F=trim(getText(e[t]));if(F.length==0){var i=a+' is required';if(undefined!=c){i=c};submitFormAlert(i,n,5);e[t].focus();return!1}}else if(e[t].value==''){var i=a+' is required';if(undefined!=c){i=c};submitFormAlert(i,n,5);e[t].focus();return!1}};var l=e[t].getAttribute('pattern');if(undefined==l){l=e[t].getAttribute('mask')};if(undefined!=l&&l!=''&&e[t].value!=''){var p=e[t].getAttribute('data-pattern-msg');if(undefined==p){p=e[t].getAttribute('maskmsg')};if(l=='ccnumber'){if(isCreditCardNumber(e[t].value)==!1){var i=a+' must be of valid credit card number ';if(undefined!=p){i=p};submitFormAlert(i,n,5);e[t].focus();return!1}}else if(l=='intlphone'){if(checkInternationalPhone(e[t].value)==!1){var i=a+' must be a valid phone number';if(undefined!=p){i=p};submitFormAlert(i,n,5);e[t].focus();return!1}}else if(l!='searchandreplace'){if(l=='phone'){e[t].value=formatPhone(e[t].value)}else if(l=='calendar'){e[t].value=formatCalendar(e[t].value)};var O=l;if(undefined!=o[l]){O=o[l]+''};var S=new RegExp(O,'i');if(S.test(e[t].value)==!1){var i=a+' must be of type '+l;if(undefined!=p){i=p};submitFormAlert(i,n,5);e[t].focus();return!1}}};if(e[t].type=='textarea'&&e[t].getAttribute('maxlength')){var v=e[t].value.length,k=Math.abs(e[t].getAttribute('maxlength'));if(v>k){var i=a+' must be less than '+k+' characters\nYou entered '+v+' characters.';if(e[t].getAttribute('maxlengthmsg')){i=e[t].getAttribute('maxlengthmsg')};submitFormAlert(i,n,5);e[t].focus();return!1}};if(e[t].getAttribute('minlength')){var v=e[t].value.length,C=Math.abs(e[t].getAttribute('minlength'));if(v<C){var i=a+' must be at least '+C+' characters.\nYou entered '+v+' characters.';if(e[t].getAttribute('minlengthmsg')){i=e[t].getAttribute('minlengthmsg')};submitFormAlert(i,n,5);e[t].focus();return!1}};if(e[t].getAttribute('minwords')){var R=getWordCount(e[t]),T=Math.abs(e[t].getAttribute('minwords'));if(v<T){var i=a+' must be at least '+T+' words in length.\nYou entered '+R+' words.';if(e[t].getAttribute('minwordsmsg')){i=e[t].getAttribute('minwordsmsg')};submitFormAlert(i,n,5);e[t].focus();return!1}};if(e[t].getAttribute('maxwords')){var R=getWordCount(e[t]),H=Math.abs(e[t].getAttribute('maxwords'));if(v<H){var i=a+' must be less than '+H+' words in length.\nYou entered '+R+' words.';if(e[t].getAttribute('maxwordsmsg')){i=e[t].getAttribute('maxwordsmsg')};submitFormAlert(i,n,5);e[t].focus();return!1}};if(e[t].type=='file'&&e[t].getAttribute('accept')&&e[t].value.length){var A=e[t].getAttribute('accept');if(r==1){alert(' -- File type allowed exts:'+A)};var j=A.split(','),E=0;for(s=0;s<j.length;s++){if(e[t].value.lastIndexOf(j[s])!=-1){E++}};if(E==0){var i=a+' must be of valid file type:  '+A;if(e[t].getAttribute('acceptmsg')){i=e[t].getAttribute('acceptmsg')};submitFormAlert(i,n,5);e[t].focus();return!1}}};for(var t=0;t<e.length;t++){var g=e[t].getAttribute('data-behavior'),x=e[t].getAttribute('id');if(undefined!=g&&(g=='wysiwyg'||g=='richtext'||g=='tinymce'||g=='nicedit')&&undefined!=nicEditors[x]){if(f==1){nicEditors.findEditor(x).saveContent()};nicEditors[x].removeInstance(x)}};var I=implode(',',b),q=0;for(var t=0;t<e.length;t++){if(e[t].name=='_formfields'){e[t].value=I;q=1;break}};if(q==0){var h=document.createElement('input');h.type='hidden';h.name='_formfields';h.value=I;e.appendChild(h)};return!0};function imposeMaxlength(e,t){return(e.value.length<=t)};function submitSurveyForm(e,t){if(undefined==e){alert('submitSurveyForm Error: No Form');return!1};if(!submitForm(e)){return!1};var o=[];for(var n=0;n<e.length;n++){var a=e[n].name;o[a]=1};for(var n=0;n<e.length;n++){if(undefined==e[n].name){continue};var a=e[n].name;if(a.length==0){continue};if(undefined!=t){for(var i in t){if(t[i]!=1){continue};if(e[n].getAttribute(i)){var u=e[n].getAttribute(i);if(u.length){var s=i+'_'+a;if(undefined==o[s]){o[s]=1;var r=document.createElement('textarea');r.setAttribute('NAME',s);r.style.display='none';r.value=u;e.appendChild(r)}}}}}};return!0};function checkInternationalPhone(e){var o='0123456789',r='.()- ',n=r+'+',i=10,t=3;e=trim(e);if(e.indexOf('+')>1)return!1;if(e.indexOf('-')!=-1){t=t+1};if(e.indexOf('(')!=-1&&e.indexOf('(')>t){return!1};var a=e.indexOf('(');if(e.indexOf('(')!=-1&&e.charAt(a+2)!=')'){return!1};if(e.indexOf('(')==-1&&e.indexOf(')')!=-1){return!1};s=stripCharsInBag(e,n);return(isInteger(s)&&s.length>=i)};function isInteger(e){var t;for(t=0;t<e.length;t++){var n=e.charAt(t);if(((n<'0')||(n>'9')))return!1};return!0};function trim(e){if(null!=e&&undefined!=e&&''!=e){var t=e.replace(/^[\ \s\0\r\n\t]*/g,'');t=t.replace(/[\ \s\0\r\n\t]*$/g,'');return t}else{return''}};function stripCharsInBag(e,t){var n,i='';for(n=0;n<e.length;n++){var r=e.charAt(n);if(t.indexOf(r)==-1){i+=r}};return i};function submitFormAlert(e,t,n){if(undefined==t){t=0};if(t){html='';html+='<div class="w_centerpop_title" style="background:#d50000;"><img src="/wfiles/iconsets/16/alert.png" alt="errors" class="w_middle"> Error Processing Request</div>\n';html+='<div class="w_centerpop_content">\n';html+='	<div class="w_big w_dblue"> - '+e+'</div>\n';html+='	<div class="w_smallest w_right w_lblue" style="margin-right:20px;" id="centerpop2_countdown">4</div>\n';html+='</div>\n';centerpopDiv(html,3,2);countDown('centerpop2_countdown')}else{alert(e)};return!1};function showFormData(e,t){if(undefined==e){alert('No form object passed to formData');return!1};if(e.length==0){return!1};var n='';for(var i=0;i<e.length;i++){var r=e[i].name,a=typeof(e[i]);n+='Name: '+r+'<br>\r\n';n+='Type: '+a+'<br>\r\n'};if(!t){alert(n)}else{setText(t,n)}};function checkPerl(e,t){if(undefined==document.e$){alert('document.e$ does not exist.');return!1};var n=e+'_perlcheck';if(undefined==t){alert('Nothing to check.');return!1};if(t.length==0){alert('Nothing to check.');return!1};document.getElementById(n).innerHTML='<img src="/wfiles/busy.gif" title="checking Perl syntax" width="12" height="12" alt="checking Perl syntax" />';document.e$.perlcheck.value=t;ajaxSubmitForm(document.e$,n,5);return!1};function cloneObj(e){var d=getObject(e),i=d.getAttribute('inc');if(undefined==i){i=1}else{i=parseFloat(i);i++};d.setAttribute('inc',i);var a=d.cloneNode(!0);if(undefined!=a.id){a.setAttribute('id',a.id+'_'+i)};if(undefined!=a.style.display&&a.style.display=='none'){a.style.display='block'};var o=a.getElementsByTagName('input'),f=a.getElementsByTagName('img');for(var t=0;t<o.length;t++){var n=o[t].getAttribute('name'),s=o[t].getAttribute('id');if(undefined==s||s.length==0){s=n};if(undefined==n){continue};var v=o[t].getAttribute('type');if(n=='_clone'&&v.toLowerCase()=='button'){o[t].style.display='none'};if(v.toLowerCase()!='button'&&v.toLowerCase()!='hidden'){o[t].value=''};var r=n+'_'+i,p=s+'_'+i;if(r.indexOf('[]')>1){r=n};if(n.indexOf('_path')!=-1){r=n.replace(/path/,'');r+=i+'_path'};if(n.indexOf('_autonumber')!=-1){r=n.replace(/autonumber/,'');r+=i+'_autonumber'};o[t].setAttribute('name',r);if(undefined!=s&&s.indexOf('_datecontrol')!=-1){p=p+'_datecontrol'};o[t].setAttribute('id',p);if(undefined!=s){for(var u=0;u<f.length;u++){if(undefined!=f[u].getAttribute('onclick')){var m=f[u].getAttribute('onclick');if(typeof(m.replace)=='function'){m=m.replace(s,p)};f[u].setAttribute('onclick',m)}}}};var c=a.getElementsByTagName('select');for(var t=0;t<c.length;t++){var n=c[t].getAttribute('name');if(undefined==n){continue};var r=n+'_'+i;c[t].setAttribute('name',r);c[t].setAttribute('id',r)};var l=a.getElementsByTagName('textarea');for(var t=0;t<l.length;t++){var n=l[t].getAttribute('name');if(undefined==n){continue};l[t].value='';var r=n+'_'+i;l[t].setAttribute('name',r);l[t].setAttribute('id',r)};d.parentNode.appendChild(a);return i};function ajaxSubmitForm(e,t,n,i,r){return ajaxPost(e,t,n,i,r)};function ajaxPopup(e,t,n){var a='ajaxPopupDiv',r={id:a,drag:1};if(n){for(var i in r){if(undefined!=n[i]){r[i]=n[i]}};for(var i in n){if(undefined==r[i]){r[i]=n[i]}}};popUpDiv('<div class="w_bold w_lblue w_big"><img src="/wfiles/loading_blu.gif" alt="loading" /> loading...please wait.</div>',r);ajaxGet(e,'centerpop',t)};function ajaxPost(e,t,n,r,a){if(undefined==e){alert('No form object passed to ajaxPost');return!1};var u=submitForm(e,1,0,1);if(!u){return!1};if(undefined==r){r=''};if(undefined==a){a=!1};if(undefined==n){n=600000};if(n<180000){n=180000};var o=t.toLowerCase(),s=r.toLowerCase();if(undefined==document.getElementById(t)&&s.indexOf('popupdiv')==-1&&s.indexOf('centerpop')==-1&&o.indexOf('popupdiv')==-1&&o.indexOf('centerpop')==-1){alert('Error in ajaxPost\n'+t+' is not defined as a valid object id');return!1};if(typeof(AjaxRequest.ActiveAjaxGroupRequests[t])!='undefined'){ajaxAbort(t)};var d=new Date().getTime()+'',l=AjaxRequest.submit(e,{'groupName':t,'timeout':n,'callback':r,'AjaxRequestUniqueId':d,'onGroupBegin':function(n){var i=this.groupName,a=i.toLowerCase(),r=this.callback;r=r.toLowerCase();if(r.indexOf('centerpop')!=-1||a.indexOf('centerpop')!=-1){var s=getProcessingDiv(t);popUpDiv('',{id:i,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:'padding:0px;border:0px;background:none;'});var o='Processing Request';setCenterPopText(i,s,{title:o,drag:!1,close_bot:!1})}else if(undefined!=e.setprocessing){setProcessing(e.setprocessing.value)}else if(undefined==e.noprocessing){setProcessing(i)}},'onGroupEnd':function(e){},'onTimeout':function(t){var n=this.groupName,i=this.callback;i=i.toLowerCase();var r='<b style="color:red">ajaxPost Timed Out Error</b>';if(i.indexOf('centerpop')!=-1||n.indexOf('centerpop')!=-1){setCenterPopText(n,r)}else{setText(n,r)};if(undefined!=e.setprocessing){setText(e.setprocessing.value,'')}},'onError':function(t){var n=this.groupName,i=this.callback;i=i.toLowerCase();var r='<div style="display:none" id="ajaxOnError">'+t.responseText+'</div>';if(i.indexOf('centerpop')!=-1||n.indexOf('centerpop')!=-1){setCenterPopText(n,r)}else{setText(n,r)};if(undefined!=e.setprocessing){setText(e.setprocessing.value,'')}},'onSuccess':function(t){var n=this.groupName,o=n.toLowerCase(),s=this.callback.toLowerCase(),r=t.responseText;ajaxids=GetElementsByAttribute('textarea','ajaxdiv',n);for(i=0;i<ajaxids.length;i++){var c=ajaxids[i].id;tinyMCE.execCommand('mceRemoveControl',!1,c)};if(undefined!=e.setprocessing){setText(e.setprocessing.value,'')};if(s!=''){if(s.indexOf('popupdiv')!=-1){popUpDiv(r,{id:n,center:1,drag:1});centerObject(n)}else if(s.indexOf('centerpop')!=-1){setCenterPopText(n,r)}else{var d=this.callback+'(req);';eval(d)}}else{if(o.indexOf('popupdiv')!=-1){popUpDiv(r,{id:n,center:1,drag:1});centerObject(n)}else if(o.indexOf('centerpop')!=-1){setCenterPopText(n,r)}else if(document.getElementById(n)){if(undefined==document.getElementById(n).style.display||document.getElementById(n).style.display=='none'){document.getElementById(n).style.display='inline'};var l=getObject(n),a=l.getAttribute('data-behavior'),u=l.getAttribute('id');if(undefined!=a&&(a=='wysiwyg'||a=='richtext'||a=='tinymce'||a=='nicedit')&&undefined!=nicEditors[u]){nicEditors.findEditor(u).setContent(r)};setText(n,r)}else{}};if(isFunction('f_tcalInit')){f_tcalInit()};initBehaviors(n)}});if(a){return l};return!1};function setCenterPopText(e,t,n){if(undefined==n){n={}};if(undefined==n.title){n.title=''};if(undefined==n.drag){n.drag=!0};if(undefined==n.close_top){n.close_top=!0};if(undefined==n.close_bot){n.close_bot=!0};if(undefined==n.center){n.center=!0};var i='';i+='<div class="w_centerpop">\n';if(n.title.length){i+='	<div class="w_centerpop_title">'+n.title+'</div>\n'};if(n.close_top){i+='	<div class="w_centerpop_close_top" title="Click to close" onclick="ajaxAbort(\''+e+'\');"><img src="/wfiles/icons/Xbutton24.png" width="24" height="24" alt="close" /></div>\n'};if(n.drag){i+='	<div class="w_centerpop_drag" id="'+e+'_move" title="Click to drag"><img id="'+e+'_drag" src="/wfiles/icons/Xmove24.png" width="24" height="24" alt="move" /></div>\n'};i+='		'+t+'\n';i+='	<img src="/wfiles/clear.gif" width="1" height="1" style="position:absolute;top:0px;right:5px;" onload="centerObject(\''+e+'\');" alt="" />\n';if(n.close_bot){i+='	<div class="w_centerpop_close_bot" title="Click to close" onclick="ajaxAbort(\''+e+'\');"><img src="/wfiles/icons/Xbutton24.png" width="24" height="24" alt="close" /></div>\n'};i+='</div>\n';setText(e,i);if(n.center){centerObject(e)};if(n.drag){var a=getObject(e),r=getObject(e+'_move');Drag.init(r,a);r.style.position='absolute';a.style.position='absolute'}};function callWaSQL(e,t,n){var i='/cgi-bin/wasql.pl';ajaxGet(i,t,'&_view='+e+'&'+n)};function ajaxAbort(e){if(typeof(AjaxRequest.ActiveAjaxGroupRequests[e])!='undefined'){var t=AjaxRequest.ActiveAjaxGroupRequests[e];if(undefined!=t.callback&&t.callback.length){t.status='aborted';var n=t.callback+'(req);';eval(n)};t.xmlHttpRequest.abort();delete(t);if(e.indexOf('centerpop')!=-1){removeId(e)}else{setText(e,t.prevValue)};return!1};if(e.indexOf('centerpop')!=-1){removeId(e)}else{setText(e,'')};return!1};function ajaxGet(e,t,n,r,a,o,c,l,d){var u='',m='';if(typeof(n)=='object'){if(undefined!=n.callback){r=n.callback};if(undefined!=n.timeout){a=n.timeout};if(undefined!=n.nosetprocess){o=n.nosetprocess};if(undefined!=n.cp_title){m=n.cp_title};for(var s in n){if(s.indexOf('-')==0){continue};if(s=='callback'){continue};if(s=='timeout'){continue};if(s=='nosetprocess'){continue};if(s=='cp_title'){continue};u=u+s+'='+n[s]+'&'}}else{u=n};if(undefined==l){if(undefined!=n&&undefined!=n['-newtitle']){l=n['-newtitle']}else{l=''}};if(undefined==d){if(undefined!=n&&undefined!=n['-newurl']){d=n['-newurl']}else{d=''}};if(undefined==r){r=''};if(undefined==o){o=!0};if(undefined==c){c=!1};var g=getCookie('GUID');if(undefined==a){a=600000};if(a<180000){a=180000};if(undefined==o){o=0};var p=t.toLowerCase(),f=r.toLowerCase();if(undefined==document.getElementById(t)&&f.indexOf('popupdiv')==-1&&f.indexOf('centerpop')==-1&&p.indexOf('popupdiv')==-1&&p.indexOf('centerpop')==-1){alert('Error in ajaxGet\n'+t+' is not defined as a valid object id');return!1};if(typeof(AjaxRequest.ActiveAjaxGroupRequests[t])!='undefined'){ajaxAbort(t)};var v=AjaxRequest.get({'url':e+'?'+u,'callback':r,'timeout':a,'var2':m,'var3':l,'var4':d,'groupName':t,'prevValue':getText(t),'var1':o,'onGroupBegin':function(e){var n=this.groupName,r=n.toLowerCase(),i=this.callback.toLowerCase();if(i.indexOf('centerpop')!=-1||r.indexOf('centerpop')!=-1){var a=getProcessingDiv(t);popUpDiv('',{id:n,width:300,height:50,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:'padding:10px;border:0px;background:#FFF;'});var s='Processing Request';setCenterPopText(n,a,{title:s,drag:!1,close_bot:!1})}else if(this.var1==0){setProcessing(n)}},'onTimeout':function(e){var t=this.groupName,i=t.toLowerCase(),r=this.callback.toLowerCase(),n='<b style="color:red">ajaxGet Timed Out Error</b>';if(r.indexOf('centerpop')!=-1||i.indexOf('centerpop')!=-1){setCenterPopText(t,n)}else{setText(t,n)}},'onError':function(e){var t=this.groupName,i=t.toLowerCase(),r=this.callback.toLowerCase(),n='<div style="display:none" id="ajaxOnError">'+e.responseText+'</div>';if(r.indexOf('centerpop')!=-1||i.indexOf('centerpop')!=-1){setCenterPopText(t,n)}else{setText(t,n)}},'onSuccess':function(e){var t=this.groupName,u=t.toLowerCase(),a=this.callback.toLowerCase(),n=e.responseText;ajaxids=GetElementsByAttribute('textarea','ajaxdiv',t);for(i=0;i<ajaxids.length;i++){var l=ajaxids[i].id;tinyMCE.execCommand('mceRemoveControl',!1,l)};if(this.var3.length>0&&this.var4.length>0){history.pushState(e.responseText,this.var3,this.var4)};if(a!=''){if(a.indexOf('popupdiv')!=-1){var n=e.responseText;popUpDiv(n,{id:t,center:1,drag:1});centerObject(t)}else if(a.indexOf('centerpop')!=-1){if(undefined!=this.var2&&this.var2.length>0){setCenterPopText(t,e.responseText,{title:this.var2})}else{setCenterPopText(t,e.responseText)}}else{var d=this.callback+'(req);';eval(d)}}else{if(u.indexOf('popupdiv')!=-1){var n=e.responseText;popUpDiv(n,{id:t,center:1,drag:1});centerObject(t)}else if(u.indexOf('centerpop')!=-1){if(undefined!=this.var2&&this.var2.length>0){setCenterPopText(t,e.responseText,{title:this.var2})}else{setCenterPopText(t,e.responseText)}}else if(document.getElementById(t)){if(undefined==document.getElementById(t).style.display||document.getElementById(t).style.display=='none'){document.getElementById(t).style.display='inline'};var s=getObject(t),r=s.getAttribute('data-behavior'),o=s.getAttribute('id');if(undefined!=r&&(r=='wysiwyg'||r=='richtext'||r=='tinymce'||r=='nicedit')&&undefined!=nicEditors[o]){nicEditors.findEditor(o).setContent(n)};setText(t,n);if(undefined!=document.getElementById(t).getAttribute('onshow')&&document.getElementById(t).getAttribute('onshow')=='center'){document.getElementById(t).style.position='absolute';centerObject(t)}}else{}};initBehaviors(t)}});if(c){return v};return!1};function newXmlHttpRequest(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else if(window.ActiveXObject){/*@cc_on;@*//*@if(@_jscript_version>=5)try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(e){try{return new ActiveXObject('Microsoft.XMLHTTP')}catch(e){return null}};@end;@*/}else{return null}};function wpassInput(e){if(!isNum(e)){return!0};var t=getObject('wpass_search');if(undefined==t){return};t.value='';ajaxGet('/php/index.php','wpass_info',{i$:e});return!1};function AjaxRequest(){var e={};e.timeout=null;e.generateUniqueUrl=!0;e.url=window.location.href;e.method='GET';e.async=!0;e.username=null;e.password=null;e.xAttribute=null;e.xValue=null;e.xName=null;e.xAction=null;e.xId=null;e.prevValue=null;e.parameters={};e.requestIndex=AjaxRequest.numAjaxRequests++;e.responseReceived=!1;e.groupName=null;e.callback=null;e.var1=null;e.var2=null;e.var3=null;e.var4=null;e.var5=null;e.queryString='';e.responseText=null;e.responseXML=null;e.status=null;e.statusText=null;e.aborted=!1;e.xmlHttpRequest=null;e.onTimeout=null;e.onLoading=null;e.onLoaded=null;e.onInteractive=null;e.onComplete=null;e.onSuccess=null;e.onError=null;e.onGroupBegin=null;e.onGroupEnd=null;e.xmlHttpRequest=AjaxRequest.getXmlHttpRequest();if(e.xmlHttpRequest==null){return null};e.xmlHttpRequest.onreadystatechange=function(){if(e==null||e.xmlHttpRequest==null){return};if(e.xmlHttpRequest.readyState==1){e.onLoadingInternal(e)};if(e.xmlHttpRequest.readyState==2){e.onLoadedInternal(e)};if(e.xmlHttpRequest.readyState==3){e.onInteractiveInternal(e)};if(e.xmlHttpRequest.readyState==4){e.onCompleteInternal(e)}};e.onLoadingInternalHandled=!1;e.onLoadedInternalHandled=!1;e.onInteractiveInternalHandled=!1;e.onCompleteInternalHandled=!1;e.onLoadingInternal=function(){if(e.onLoadingInternalHandled){return};AjaxRequest.numActiveAjaxRequests++;if(AjaxRequest.numActiveAjaxRequests==1&&typeof(window['AjaxRequestBegin'])=='function'){AjaxRequestBegin()};if(e.groupName!=null){if(typeof(AjaxRequest.numActiveAjaxGroupRequests[e.groupName])=='undefined'){AjaxRequest.numActiveAjaxGroupRequests[e.groupName]=0;AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e}else{AjaxRequest.ActiveAjaxGroupRequests[e.groupName]=e};AjaxRequest.numActiveAjaxGroupRequests[e.groupName]++;if(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]==1&&typeof(e.onGroupBegin)=='function'){e.onGroupBegin(e.groupName)}};if(typeof(e.onLoading)=='function'){e.onLoading(e)};e.onLoadingInternalHandled=!0};e.onLoadedInternal=function(){if(e.onLoadedInternalHandled){return};if(typeof(e.onLoaded)=='function'){e.onLoaded(e)};e.onLoadedInternalHandled=!0};e.onInteractiveInternal=function(){if(e.onInteractiveInternalHandled){return};if(typeof(e.onInteractive)=='function'){e.onInteractive(e)};e.onInteractiveInternalHandled=!0};e.onCompleteInternal=function(){if(e.onCompleteInternalHandled||e.aborted){return};e.onCompleteInternalHandled=!0;AjaxRequest.numActiveAjaxRequests--;if(AjaxRequest.numActiveAjaxRequests==0&&typeof(window['AjaxRequestEnd'])=='function'){AjaxRequestEnd(e.groupName)};if(e.groupName!=null){AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--;delete(AjaxRequest.ActiveAjaxGroupRequests[e.groupName]);if(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]==0&&typeof(e.onGroupEnd)=='function'){e.onGroupEnd(e.groupName)}};e.responseReceived=!0;e.status=e.xmlHttpRequest.status;e.statusText=e.xmlHttpRequest.statusText;e.responseText=e.xmlHttpRequest.responseText;e.responseXML=e.xmlHttpRequest.responseXML;if(typeof(e.onComplete)=='function'){e.onComplete(e)};if(e.xmlHttpRequest.status==200&&typeof(e.onSuccess)=='function'){e.onSuccess(e)}else if(typeof(e.onError)=='function'){e.onError(e)};delete e.xmlHttpRequest['onreadystatechange'];e.xmlHttpRequest=null};e.onTimeoutInternal=function(){if(e!=null&&e.xmlHttpRequest!=null&&!e.onCompleteInternalHandled){e.aborted=!0;e.xmlHttpRequest.abort();AjaxRequest.numActiveAjaxRequests--;if(AjaxRequest.numActiveAjaxRequests==0&&typeof(window['AjaxRequestEnd'])=='function'){AjaxRequestEnd(e.groupName)};if(e.groupName!=null){AjaxRequest.numActiveAjaxGroupRequests[e.groupName]--;delete(AjaxRequest.ActiveAjaxGroupRequests[e.groupName]);if(AjaxRequest.numActiveAjaxGroupRequests[e.groupName]==0&&typeof(e.onGroupEnd)=='function'){e.onGroupEnd(e.groupName)}};if(typeof(e.onTimeout)=='function'){e.onTimeout(e)};delete e.xmlHttpRequest['onreadystatechange'];e.xmlHttpRequest=null}};e.process=function(){if(e.xmlHttpRequest!=null){if(e.generateUniqueUrl&&e.method=='GET'){e.parameters['AjaxRequestUniqueId']=new Date().getTime()+''+e.requestIndex};var t=null;for(var n in e.parameters){if(e.queryString.length>0){e.queryString+='&'};e.queryString+=encodeURIComponent(n)+'='+encodeURIComponent(e.parameters[n])};if(e.method=='GET'){if(e.queryString.length>0){e.url+=((e.url.indexOf('?')>-1)?'&':'?')+e.queryString}};e.xmlHttpRequest.open(e.method,e.url,e.async,e.username,e.password);if(e.method=='POST'){if(typeof(e.xmlHttpRequest.setRequestHeader)!='undefined'){e.xmlHttpRequest.setRequestHeader('Content-type','application/x-www-form-urlencoded')};t=e.queryString};if(e.timeout>0){setTimeout(e.onTimeoutInternal,e.timeout)};e.xmlHttpRequest.send(t)}};e.handleArguments=function(t){for(var n in t){if(typeof(e[n])=='undefined'){e.parameters[n]=t[n]}else{e[n]=t[n]}}};e.getAllResponseHeaders=function(){if(e.xmlHttpRequest!=null){if(e.responseReceived){return e.xmlHttpRequest.getAllResponseHeaders()};alert('Cannot getAllResponseHeaders because a response has not yet been received')}};e.getResponseHeader=function(t){if(e.xmlHttpRequest!=null){if(e.responseReceived){return e.xmlHttpRequest.getResponseHeader(t)};alert('Cannot getResponseHeader because a response has not yet been received')}};return e};AjaxRequest.getXmlHttpRequest=function(){if(window.XMLHttpRequest){return new XMLHttpRequest()}else if(window.ActiveXObject){/*@cc_on;@*//*@if(@_jscript_version>=5)try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(e){try{return new ActiveXObject('Microsoft.XMLHTTP')}catch(e){return null}};@end;@*/}else{return null}};AjaxRequest.isActive=function(){return(AjaxRequest.numActiveAjaxRequests>0)};AjaxRequest.get=function(e){AjaxRequest.doRequest('GET',e)};AjaxRequest.post=function(e){AjaxRequest.doRequest('POST',e)};AjaxRequest.doRequest=function(e,t){if(typeof(t)!='undefined'&&t!=null){var n=new AjaxRequest();n.method=e;n.handleArguments(t);n.process()}};AjaxRequest.submit=function(e,t){var n=new AjaxRequest();if(n==null){return!1};var i=AjaxRequest.serializeForm(e);n.method=e.method.toUpperCase();n.url=e.action;n.handleArguments(t);n.queryString=i;n.process();return!0};AjaxRequest.serializeForm=function(e){var r=e.elements;if(undefined==r){alert('Ajax Request serializeForm failed');return!1};var s=r.length,n='';this.addField=function(e,t){if(n.length>0){n+='&'};n+=encodeURIComponent(e)+'='+encodeURIComponent(t)};for(var a=0;a<s;a++){var t=r[a];if(!t.disabled){switch(t.type){case'color':case'date':case'datetime':case'datetime-local':case'email':case'month':case'number':case'range':case'search':case'tel':case'time':case'url':case'week':case'text':case'password':case'submit':case'hidden':case'textarea':this.addField(t.name,t.value);break;case'select-one':if(t.selectedIndex>=0){this.addField(t.name,t.options[t.selectedIndex].value)};break;case'select-multiple':for(var i=0;i<t.options.length;i++){if(t.options[i].selected){this.addField(t.name,t.options[i].value)}};break;case'checkbox':case'radio':if(t.checked){this.addField(t.name,t.value)};break}}};return n};AjaxRequest.numActiveAjaxRequests=0;AjaxRequest.numActiveAjaxGroupRequests={};AjaxRequest.ActiveAjaxGroupRequests={};AjaxRequest.numAjaxRequests=0;(function(){var n=document.createElement('input');try{n.type='range';if(n.type=='range'){return}}catch(r){return};n.style.background='linear-gradient(red, red)';if(!n.style.backgroundImage||!('MozAppearance' in n.style)||!document.mozSetImageElement||!this.MutationObserver){return};var i,t=navigator.platform=='MacIntel',e={radius:t?9:6,width:t?22:12,height:t?16:20};var c='linear-gradient(transparent '+(t?'6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px':'9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px')+', transparent)',p={'min-width':e.width+'px','min-height':e.height+'px','max-height':e.height+'px',padding:'0 0 '+(t?'2px':'1px'),border:0,'border-radius':0,cursor:'default','text-indent':'-999999px'};var f={attributes:!0,attributeFilter:['min','max','step','value']};var s=Array.prototype.forEach,l=document.createEvent('HTMLEvents');l.initEvent('change',!0,!1);if(document.readyState=='loading'){document.addEventListener('DOMContentLoaded',d,!0)}else{d()};function d(){s.call(document.querySelectorAll('input[type=range]'),u);new MutationObserver(function(e){e.forEach(function(e){if(e.addedNodes)s.call(e.addedNodes,function(e){o(e);if(e.childElementCount)s.call(e.querySelectorAll('input'),o)})})}).observe(document,{childList:!0,subtree:!0})};function o(e){if(e.localName=='input'&&e.type!='range'&&e.getAttribute('type')=='range')u(e)};function u(n){var x,h,m,A,y,w,b,s,d,u,o,r=n.value;if(!i){i=document.body.appendChild(document.createElement('hr'));a(i,{'-moz-appearance':t?'scale-horizontal':'scalethumb-horizontal',display:'block',visibility:'visible',opacity:1,position:'fixed',top:'-999999px'});document.mozSetImageElement('__sliderthumb__',i)};var C=function(){return''+r},O=function F(e){r=''+e;x=!0;g();delete n.value;n.value=r;n.__defineGetter__('value',C);n.__defineSetter__('value',F)};n.__defineGetter__('value',C);n.__defineSetter__('value',O);n.__defineGetter__('type',function(){return'range'});['min','max','step'].forEach(function(e){if(n.hasAttribute(e))h=!0;n.__defineGetter__(e,function(){return this.hasAttribute(e)?this.getAttribute(e):''});n.__defineSetter__(e,function(t){t===null?this.removeAttribute(e):this.setAttribute(e,t)})});n.readOnly=!0;a(n,p);R();new MutationObserver(function(e){e.forEach(function(e){if(e.attributeName!='value'){R();h=!0}else if(!x){r=n.getAttribute('value');g()}})}).observe(n,f);n.addEventListener('mousedown',k,!0);n.addEventListener('keydown',I,!0);n.addEventListener('focus',q,!0);n.addEventListener('blur',H,!0);function k(t){A=!0;setTimeout(function(){A=!1},0);if(t.button||!o)return;var a=parseFloat(getComputedStyle(this,0).width),n=(a-e.width)/o;if(!n)return;var i=t.clientX-this.getBoundingClientRect().left-e.width/2-(r-s)*n;if(Math.abs(i)>e.radius){m=!0;this.value-=-i/n};w=r;b=t.clientX;this.addEventListener('mousemove',E,!0);this.addEventListener('mouseup',j,!0)};function E(t){var i=parseFloat(getComputedStyle(this,0).width),n=(i-e.width)/o;if(!n)return;w+=(t.clientX-b)/n;b=t.clientX;m=!0;this.value=w};function j(){this.removeEventListener('mousemove',E,!0);this.removeEventListener('mouseup',j,!0)};function I(e){if(e.keyCode>36&&e.keyCode<41){q.call(this);m=!0;this.value=r+(e.keyCode==38||e.keyCode==39?u:-u)}};function q(){if(!A)this.style.boxShadow=!t?'0 0 0 2px #fb0':'inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)'};function H(){this.style.boxShadow=''};function v(e){return!isNaN(e)&&+e==parseFloat(e)};function R(){s=v(n.min)?+n.min:0;d=v(n.max)?+n.max:100;if(d<s)d=s>100?s:100;u=v(n.step)&&n.step>0?+n.step:1;o=d-s;g(!0)};function T(){if(!x&&!h)r=n.getAttribute('value');if(!v(r))r=(s+d)/2;r=Math.round((r-s)/u)*u+s;if(r<s)r=s;else if(r>d)r=s+~~(o/u)*u};function g(e){T();if(m&&r!=y)n.dispatchEvent(l);m=!1;if(!e&&r==y)return;y=r;var i=o?(r-s)/o*100:0,t='-moz-element(#__sliderthumb__) '+i+'% no-repeat, ';a(n,{background:t+c})}};function a(e,t){for(var n in t)e.style.setProperty(n,t[n],'important')}})();