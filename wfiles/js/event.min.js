function marquee(t){if(mobj=getObject(t),void 0==mobj)return!1;mobj.id;clearTimeout(TimoutArray[t]);var e=getAllAttributes(mobj);if(void 0==e.m&&(mobj.setAttribute("m",0),e.m=0),"undefined"!=typeof mobj.onmouseover&&(mobj.onmouseover=function(){this.setAttribute("m",1)},mobj.onmouseout=function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&this.setAttribute("m",0)}),void 0==e.m||0==e.m){var i=getTextPixelWidthHeight(mobj),a=getWidthHeight(mobj),o=20;void 0!=e.timer&&(speed=e.timer);var r="left";switch(void 0!=e.direction&&(r=e.direction),r.toLowerCase()){case"left":mobj.style.textAlign="right",mobj.style.whiteSpace="nowrap",mobj.style.paddingLeft="0px",void 0!=mobj.style.paddingRight&&(x=mobj.style.paddingRight,x.length?(x=x.replace("px",""),x=parseInt(x)):x=0),mobj.style.paddingRight=x<a[0]-i[0]-2?parseInt(x+2)+"px":"0px";break;case"right":mobj.style.textAlign="left",mobj.style.whiteSpace="nowrap",mobj.style.paddingRight="0px",void 0!=mobj.style.paddingLeft&&(x=mobj.style.paddingLeft,x.length?(x=x.replace("px",""),x=parseInt(x)):x=0),mobj.style.paddingLeft=x<a[0]-i[0]-2?parseInt(x+2)+"px":"0px";break;default:return!1}}TimoutArray[t]=setTimeout("marquee('"+t+"')",o)}function mouseMove(t){if(!t)var t=window.event;t.pageX||t.pageY?(cursor.x=t.pageX,cursor.y=t.pageY):(t.clientX||t.clientY)&&document.body&&document.documentElement&&(cursor.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,cursor.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),MouseY=cursor.y,MouseX=cursor.x}function mp3Player(t,e,i){void 0==i&&(i=0);var a="";a+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="165" height="38" id="niftyPlayer1" align="">\n',a+='<param name=movie value="/wfiles/niftyplayer.swf?file='+t+"&as="+i+'">\n',a+="<param name=quality value=high>\n",a+="<param name=bgcolor value=#FFFFFF>\n",a+='<embed src="/wfiles/niftyplayer.swf?file='+t+"&as="+i+'" quality=high bgcolor=#FFFFFF width="165" height="38" name="niftyPlayer1" align="" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">\n',a+="</embed>\n",a+="</object>\n",setText(e,a)}function embedFlash(t,e){void 0==e.width&&(e.width=400),void 0==e.height&&(e.height=300),void 0==e.bgcolor&&(e.bgcolor="#FFFFFF"),void 0==e.name&&(e.name="flashobj");var i="";i+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="'+e.width+'" height="'+e.height+'" id="'+e.name+'" align="">\n',i+='<param name=movie value="'+t+'">\n',i+='<param name="quality" value="high">\n',i+='<param name="wmode" value="transparent">\n',i+='<param name="bgcolor" value="'+e.bgcolor+'">\n',i+='<embed src="'+t+'" wmode="transparent" quality="high" bgcolor="'+e.bgcolor+'" width="'+e.width+'" height="'+e.height+'" name="'+e.name+'" align="" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">\n',i+="</embed>\n",i+="</object>\n",void 0!=e.debug&&alert(i),void 0!=e.popup&&1==e.popup?popUpDiv(i,e):setText(e.id,i)}function makeDivFloat(t,e,i){setFloatDiv(t,e,i).floatIt()}function setFloatDiv(t,e,i){var a=d.getElementById?d.getElementById(t):d.all?d.all[t]:d.layers[t],o=document.layers?"":"px";return window[t+"_obj"]=a,d.layers&&(a.style=a),a.cx=a.sx=e,a.cy=a.sy=i,a.sP=function(t,e){this.style.left=t+o,this.style.top=e+o},a.floatIt=function(){var t,e;t=this.sx>=0?0:ns?innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,e=ns?pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,this.sy<0&&(e+=ns?innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight),this.cx+=(t+this.sx-this.cx)/8,this.cy+=(e+this.sy-this.cy)/8,this.sP(this.cx,this.cy),setTimeout(this.id+"_obj.floatIt()",40)},a}function schedulePageRefresh(t,e,i,a){var o="schedulePageRefresh";clearTimeout(TimoutArray[o]),void 0==a&&(a=6e4),TimoutArray[o]=setTimeout('pageRefresh("'+t+'","'+e+'","'+i+'")',a)}function scheduleAjaxGet(t,e,i,a,o,r){clearTimeout(TimoutArray[t]),void 0==o&&(o=6e4),void 0==r&&(r=0),TimoutArray[t]=setTimeout('pageRefresh("'+e+'","'+i+'","'+a+'",'+r+")",o)}function pageRefresh(t,e,i,a){return void 0==document.getElementById(e)?!1:void ajaxGet("/"+t,e,i,"",6e4,a)}function processMultiComboBox(t,e,i,a,o){var r=document.getElementById(t),n=document.getElementById(e);a&&n&&(n.checked=n.checked?!1:!0);for(var s=GetElementsByAttribute("input","name",t),d=0,l="",u=0;u<s.length;u++)s[u].checked&&(o&&(l+=s[u].value+","),d++);r.value=o?l:d+"/"+i+" selected"}function setChangeState(t){var e=document.getElementById(t);changeState[t]=e.value}function setChangeValue(t,e){changeValue[t]=e}function evalChange(tid){eval(changeValue[tid])}function hasChanged(t){var e=document.getElementById(t),i=0,a=e.value,o=changeState[t];return a!=o&&i++,i?!0:!1}function iframePopup(t,e){void 0==e&&(e=new Object);var i="";return void 0==e.iwidth&&(e.iwidth=500),void 0==e.iheight&&(e.iheight=300),void 0==e.iscrolling&&(e.iscrolling="auto"),i+='<div class="w_centerpop_title">'+e.title+"</div>\n",i+='<div class="w_centerpop_content">\n',i+='<iframe seamless="1" src="'+t+'" width="'+e.iwidth+'" height="'+e.iheight+'" frameborder="0" marginwidth="0" marginheight="0" scrolling="'+e.iscrolling+'" align="center">Your browser does not support iframes.</iframe>',i+="</div>\n",centerpopDiv(i,null,0),!1}function w_shareButton(t){return window.open(t,"_blank","scrollbars=no, location=no, width=600, height=400, status=no, toolbar=no, menubar=no",!1),!1}function ajaxPopup(t,e,i){var a="ajaxPopupDiv",o={id:a,drag:1};if(i){for(var r in o)void 0!=i[r]&&(o[r]=i[r]);for(var r in i)void 0==o[r]&&(o[r]=i[r])}popUpDiv('<div class="w_bold w_lblue w_big"><img src="/wfiles/loading_blu.gif"> loading...please wait.</div>',o),ajaxGet(t,o.id+"_Body",e)}function cancelBubble(t){var e=t?t:window.event;e.stopPropagation&&e.stopPropagation(),null!=e.cancelBubble&&(e.cancelBubble=!0)}function centerpopDiv(t,e,i){void 0==i&&(i="");var a="centerpop"+i;void 0!=document.getElementById(t)&&(t=getText(t));var o={id:a,drag:1,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"};return void 0!=e&&e>0&&(o.showtime=e),popUpDiv("",o),setCenterPopText(a,t,{drag:!1,close_bot:!1}),centerObject(a),setStyle(a,"zIndex","99999"),!1}function tooltipDiv(t){t=getObject(t);var e=t.getAttribute("data-tooltip"),i=t.getAttribute("data-tooltip_position")||"";if(0==e.indexOf("id:")){var a=str_replace("id:","",e);e=getText(a)||""}else if(0==e.indexOf("att:")){var o=str_replace("att:","",e);e=t.getAttribute(o)||""}if(0==e.length)return!1;var r=getObject("w_tooltip");void 0!=r&&removeId(r);var n=document.createElement("div");n.setAttribute("id","w_tooltip"),n.style.zIndex="698999",n.style.position="absolute",n.innerHTML=e;var s=findPos(t),d=y=h=w=th=0;return h=getHeight(t),""==i&&"img"==t.nodeName.toLowerCase()&&(i="bottom"),"bottom"==i?(h=getHeight(t),w=getWidth(t),y=s.y+h+6,d=s.x):(n.setAttribute("class","left"),w=getWidth(t),y=s.y,d=s.x+w+6),n.style.top=y+"px",n.style.left=d+"px",document.body.appendChild(n),!1}function popUpDiv(t,e){var i="position:absolute;top:200px;left:200px;margin:5px;z-index:99999;",a="padding:5px;border:1px solid #d6dee7;background:#FFF;";clearTimeout("popupdiv_timeout"),void 0!=e.width&&(i+="width:"+e.width+"px;"),void 0!=e.height&&(a+="height:"+e.height+"px;overflow:auto;");var o={id:"w"+(new Date).getTime(),style:i,title:"",closestyle:"cursor:pointer;",close:'<img src="/wfiles/x_red.gif">',bodystyle:a,titleleft:20,body:t};if(e){for(var r in o)void 0!=e[r]&&(o[r]=e[r]);for(var r in e)void 0==o[r]&&(o[r]=e[r])}var n;if(void 0!=document.getElementById(o.id)&&removeDiv(o.id),void 0!=document.getElementById(o.id)){n=document.getElementById(o.id);var s=o.id+"_Body";n.style.display="block",void 0!=document.getElementById(s)&&setText(s,o.body)}else{n=document.createElement("div"),n.setAttribute("id",o.id),n.style.zIndex="9999",n.style.position="absolute";var d=document.createElement("table");d.border=0,d.align="left",d.cellPadding=0,d.cellSpacing=0,void 0!=o.width&&(d.style.width=o.width+"px");var l="#49495a";o.titlebgcolor?l=o.titlebgcolor:e.titlebgcolor&&(l=e.titlebgcolor),d.style.border=void 0==e.noborder?"1px solid "+l:"0px solid "+l;var u=document.createElement("tbody");if(void 0==e.notop){var c=document.createElement("tr"),v=document.createElement("td");v.noWrap=!0,v.align="right",v.style.fontFamily="arial",v.style.fontSize="11px",v.style.backgroundColor=l,v.style.color=o.titlecolor?o.titlecolor:"#FFFFFF";var h=document.createElement("div"),m='<div id="'+o.id+'_Title" style="float:left;margin-left:10px;margin-top:1px">'+o.title+"</div>";m+='<a href="#" style="font-weight:bold;font-size:12px;font-family:arial;color:#970000;text-decoration:none;padding:0 3px 0 0;" onClick="fadeId(\''+o.id+"',1);return false;\">X</a>",h.innerHTML=m,v.appendChild(h),c.appendChild(v),u.appendChild(c)}var g=document.createElement("tr");g.height="100%";var b=document.createElement("td");void 0==e.nobackground&&(b.style.backgroundColor="#FFFFFF");var p=document.createElement("div"),f='<div id="'+o.id+'_Body">'+o.body;if(f+="</div>",p.innerHTML=f,b.appendChild(p),g.appendChild(b),u.appendChild(g),void 0==e.nobot){var y=document.createElement("tr"),x=document.createElement("td");x.noWrap=!0,x.align="right",x.style.fontFamily="arial",x.style.fontSize="11px";var l="#FFFFFF";o.botbgcolor?l=o.botbgcolor:e.botbgcolor&&(l=e.botbgcolor),x.style.backgroundColor=l;var E=document.createElement("div"),w='<a href="#" class="w_red w_bold w_link"" onClick="fadeId(\''+o.id+"',1);return false;\">Close</a>";E.innerHTML=w,x.appendChild(E),y.appendChild(x),u.appendChild(y)}d.appendChild(u),n.style.display="block",n.appendChild(d),o.drag&&void 0==e.notop&&(Drag.init(h,n),h.style.cursor="move"),document.body.appendChild(n)}if(n.style.display="block",o.center){var A=centerObject(n),_=0,j=0,M=o.center+"";-1!=M.indexOf("x")?_=A[0]:-1!=M.indexOf("y")?j=A[1]:(_=A[0],j=A[1]),void 0!=o.x&&(xvalue=o.x+"",_=Math.round(-1!=xvalue.indexOf("+")?MouseX+parseInt(xvalue):-1!=xvalue.indexOf("-")?MouseX-Math.abs(parseInt(xvalue)):o.x),0>_&&(_=0)),void 0!=o.y&&(yvalue=o.y+"",j=Math.round(-1!=yvalue.indexOf("+")?MouseY+parseInt(yvalue):-1!=yvalue.indexOf("-")?MouseY-Math.abs(parseInt(yvalue)):o.y),0>j&&(j=0)),0>_&&(_=0),0>j&&(j=0),n.style.position="absolute",n.style.left=_+"px",n.style.top=j+"px"}else if(e.topright)n.style.position="absolute",n.style.top=e.topright+"px",n.style.right=e.topright+"px";else if(e.topleft)n.style.position="absolute",n.style.top=e.topleft+"px",n.style.left=e.topleft+"px";else if(e.botright)n.style.position="absolute",n.style.bottom=e.botright+"px",n.style.right=e.botright+"px";else if(e.botleft)n.style.position="absolute",n.style.bottom=e.botleft+"px",n.style.left=e.botleft+"px";else if(o.screen)showOnScreen(n);else if(o.mouse){var _=0,j=0,M=o.mouse+"";-1!=M.indexOf("x")?_=MouseX:-1!=M.indexOf("y")&&(j=MouseY),void 0!=o.x&&(xvalue=o.x+"",_=-1!=xvalue.indexOf("+")?Math.round(MouseX+parseInt(xvalue)):-1!=xvalue.indexOf("-")?Math.round(MouseX-Math.abs(parseInt(xvalue))):MouseX),void 0!=o.y&&(yvalue=o.y+"",j=-1!=yvalue.indexOf("+")?Math.round(MouseY+parseInt(yvalue)):-1!=yvalue.indexOf("-")?Math.round(MouseY-Math.abs(parseInt(yvalue))):MouseY),0>_&&(_=0),0>j&&(j=0),n.style.top=j+"px",n.style.left=_+"px"}else void 0!=o.x&&(n.style.left=o.x+"px"),void 0!=o.y&&(n.style.top=o.y+"px");if(o.showtime){var d=Math.round(1e3*o.showtime);popupdiv_timeout=setTimeout("removeDivOnExit('"+o.id+"',1)",d)}else o.fade&&(n.onmouseout=function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&fadeId(this.id,1)})}function createTable(){var t=document.createElement("table");tb=document.createElement("tbody"),t.setAttribute("border","1");var e,i,a=document.createElement("tr");i=document.createElement("div"),i.style.backgroundColor="red",i.style.minHeight="20px",i.style.width="50px",e=document.createElement("td"),e.appendChild(i),a.appendChild(e),i=document.createElement("div"),i.style.backgroundColor="green",i.style.minHeight="20px",i.style.width="50px",e=document.createElement("td"),e.appendChild(i),a.appendChild(e),tb.appendChild(a),t.appendChild(tb),document.getElementById("ajaxstatus").appendChild(t)}function removeDiv(t){return removeId(t)}function removeId(t){var e=getObject(t);void 0!=e&&(setText(t,""),isIE?e.removeNode(!0):e.parentNode.removeChild(e))}function removeDivOnExit(t,e){var i=getObject(t);if(void 0!=i)return isMouseOver(t)?void(i.onmouseout=void 0!=e&&1==e?function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&fadeId(this.id,1)}:function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&removeDiv(this.id)}):void(void 0!=e&&1==e?fadeId(t,1):removeDiv(t))}function isMouseOver(t){var e=getXY(t);if(void 0==e)return!0;var i=getWidthHeight(t);return MouseX>=e[0]&&MouseX<=e[0]+i[0]&&MouseY>=e[1]&&MouseY<=e[1]+i[1]?!0:!1}function getChildById(t,e){if(t.id==e)return t;if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++){var a=getChildById(t.childNodes[i],e);if(null!=a)return a}return null}function setObjectPos(t,e,i){var a=getObject(t);return void 0==a?!1:(void 0==e&&(e=MouseX||10),void 0==i&&(i=MouseY||10),a.style.position="absolute",a.style.left=e+"px",a.style.top=i+"px",new Array(e,i))}function centerObject(t,e){void 0==e&&(e=0);var i=getObject(t);if(void 0==i)return!1;var a=getWidth(i),o=getHeight(i);window.status=t+":"+a+","+o;var r=getViewportWidth(),n=getViewportHeight(),s=getScrollWidth(),d=getScrollHeight(),l=Math.round(r/2-a/2)+s,u=Math.round(n/2-o/2)+d;return i.style.position="absolute",i.style.left=l+"px",void 0==u&&(u=10),10>u&&(u=10),i.style.top=u+"px",1==e&&(i.onmouseout=function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&fadeId(this.id,1)}),new Array(l,u)}function hideOnExit(t){var e=getObject(t);return void 0==e?!1:void(e.onmouseout=function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&(this.style.display="none")})}function showOnScreen(t){var e=getObject(t);if(void 0==e)return!1;e.style.position="absolute",e.style.visibility="hidden",e.style.display="block";var i=getWidth(e),a=getHeight(e),o=(getViewPort(),getWidth()),r=getHeight(),n=cursor.x,s=cursor.y;if(n+i+20>o){for(var d=n-i;0>d;)d++;n=d}if(s+a+20>r){for(var d=s-a;0>d;)d++;s=d}return e.style.left=n+"px",e.style.top=s+"px",e.style.visibility="visible",new Array(n,s)}function getViewPort(){var t={};return"undefined"!=typeof window.innerWidth?(t.w=window.innerWidth,t.h=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(t.w=document.documentElement.clientWidth,t.h=document.documentElement.clientHeight):(t.w=document.getElementsByTagName("body")[0].clientWidth,t.h=document.getElementsByTagName("body")[0].clientHeight),t}function initBehaviors(ajaxdiv){try{f_tcalInit()}catch(e){}for(var navEls=GetElementsByAttribute("*","data-behavior",".+"),navEls2=GetElementsByAttribute("*","_behavior",".+"),n=0;n<navEls2.length;n++)navEls2[n].setAttribute("data-behavior",navEls2[n].getAttribute("_behavior")),navEls2[n].removeAttribute("_behavior"),navEls[navEls.length]=navEls2[n];for(var n=0;n<navEls.length;n++){var str=navEls[n].getAttribute("data-behavior").toLowerCase(),behaviors=str.split(/[\ \;\,\:]+/);if(in_array("ajax",behaviors)){var attr=getAllAttributes(navEls[n]);void 0!=attr.id&&void 0!=attr.url&&void 0!=attr.timer&&ajaxTimer(attr.id)}else if(in_array("animate",behaviors))navEls[n].onmouseover=function(){animateGrow(this.id,parseInt(this.getAttribute("min")),parseInt(this.getAttribute("max")))},navEls[n].onmouseout=function(t){void 0==t&&(t=fixE(t)),void 0!=t&&checkMouseLeave(this,t)&&animateShrink(this.id,parseInt(this.getAttribute("max")),parseInt(this.getAttribute("min")))};else if(in_array("autogrow",behaviors))navEls[n].setAttribute("data-autogrow",navEls[n].style.height),navEls[n].onfocus=function(){autoGrow(this)},navEls[n].onkeypress=function(){autoGrow(this)},navEls[n].onblur=function(){var t=this.getAttribute("data-autogrow");this.style.height=t};else if(in_array("chart",behaviors)){var chart_type=navEls[n].getAttribute("data-type")||"bar";chart_type=chart_type.toLowerCase();var chart_labels=navEls[n].getAttribute("data-labels")||"";chart_labels=chart_labels.split(",");for(var chart_datasets=new Array,chart_id=navEls[n].getAttribute("data-datasets")||"",chart_ids=GetElementsByAttribute("div","id",chart_id),i=0;i<chart_ids.length;i++){var txt=getText(chart_ids[i]),dataset=parseJSONString(txt);chart_datasets.push(dataset)}var chart_data={labels:chart_labels,datasets:chart_datasets},chart_options=navEls[n].getAttribute("data-options")||"";void 0!=document.getElementById(chart_options)&&(chart_options=getText(chart_options));var chart_options=parseJSONString(chart_options);switch(chart_type){case"bar":var myLine=new Chart(navEls[n].getContext("2d")).Bar(chart_data,chart_options);break;case"line":var myLine=new Chart(navEls[n].getContext("2d")).Line(chart_data,chart_options);break;case"pie":var myLine=new Chart(navEls[n].getContext("2d")).Pie(chart_data,chart_options)}var chart_image=navEls[n].getAttribute("data-image")||"";if(chart_image.length){var img=navEls[n].toDataURL();setText(chart_image,img)}}else if(in_array("clock",behaviors)){var id=navEls[n].getAttribute("id");id&&startClock(id,1)}else if(in_array("utcclock",behaviors)){var id=navEls[n].getAttribute("id");id&&startUTCClock(id,1)}else if(in_array("countdown",behaviors)){var id=navEls[n].getAttribute("id");id&&countDown(id)}else if(in_array("countdowndate",behaviors)){var id=navEls[n].getAttribute("id");if(id){var yr=navEls[n].getAttribute("data-year");void 0!=yr&&(yr=navEls[n].getAttribute("year"));var mon=navEls[n].getAttribute("data-month");void 0!=mon&&(mon=navEls[n].getAttribute("month"));var day=navEls[n].getAttribute("data-day");void 0!=day&&(day=navEls[n].getAttribute("day"));var hr=navEls[n].getAttribute("data-hour");void 0!=hr&&(hr=navEls[n].getAttribute("hour"));var m=navEls[n].getAttribute("minute");void 0!=m&&(m=navEls[n].getAttribute("minute"));var t=navEls[n].getAttribute("tz");void 0!=t&&(t=navEls[n].getAttribute("tz")),countDownDate(id,yr,mon,day,hr,m,t)}}else if(in_array("csseditor",behaviors))codemirrorTextEditor(navEls[n],"text/css","csseditor");else if(in_array("drag",behaviors)){var head=navEls[n].getAttribute("data-head");void 0!=head&&(head=navEls[n].getAttribute("head"));var headobj=getObject(head);navEls[n].style.position="relative",void 0==headobj?Drag.init(navEls[n]):Drag.init(headobj,navEls[n])}else if(in_array("email-link",behaviors)){var email=getText(navEls[n]);email=email.replace(/^[\/]+/,"",email),email=email.replace(/[\/]+$/,"",email),email=email.replace(/[\/]/,"@",email),email=email.replace(/[\/]/,".",email),navEls[n].href="mailto:"+email,setText(navEls[n],email),navEls[n].setAttribute("data-behavior","processed")}else if(in_array("markers",behaviors))wasqlMarkerInit(navEls[n]);else if(in_array("signature",behaviors)){var pencolor=navEls[n].getAttribute("data-color")||"#000";signaturePad=new SignaturePad(navEls[n],{penColor:pencolor})}else if(in_array("txteditor",behaviors))codemirrorTextEditor(navEls[n],"text/plain","txteditor");else if(in_array("javascript",behaviors)||in_array("jseditor",behaviors))codemirrorTextEditor(navEls[n],"text/javascript","jseditor");else if(in_array("perleditor",behaviors))codemirrorTextEditor(navEls[n],"text/x-perl","perleditor");else if(in_array("phpeditor",behaviors))codemirrorTextEditor(navEls[n],"application/x-httpd-php","phpeditor");else if(in_array("rubyeditor",behaviors))codemirrorTextEditor(navEls[n],"text/x-ruby","rubyeditor");else if(in_array("sqleditor",behaviors))codemirrorTextEditor(navEls[n],"text/x-mysql","sqleditor");else if(in_array("vbscript",behaviors)||in_array("vbeditor",behaviors))codemirrorTextEditor(navEls[n],"text/vbscript","vbeditor");else if(in_array("richtext",behaviors)||in_array("wysiwyg",behaviors)||in_array("nicedit",behaviors)||in_array("tinymce",behaviors)){var id=navEls[n].getAttribute("id"),h=getHeight(navEls[n]),m=500;void 0!=h&&m>h&&(m=h),void 0!=nicEditors[id]&&nicEditors[id].removeInstance(id),nicEditors[id]=new nicEditor({fullPanel:!0,maxHeight:m}).panelInstance(id,{hasPanel:!0,maxHeight:m})}else if(in_array("xmleditor",behaviors))codemirrorTextEditor(navEls[n],{name:"xml",alignCDATA:!0},"xmleditor");else if(in_array("zoom",behaviors))void 0==navEls[n].getAttribute("id")&&navEls[n].setAttribute("id",guid()),void 0==navEls[n].getAttribute("data-zoomsrc")&&navEls[n].setAttribute("data-zoomsrc",navEls[n].src),MojoZoom.makeZoomable(navEls[n],navEls[n].getAttribute("data-zoomsrc"),document.getElementById(navEls[n].getAttribute("id")+"_zoom"),null,null,"true"==navEls[n].getAttribute("data-zoomalwaysshow"));else if(in_array("fileupload",behaviors))window.File&&window.FileReader&&window.FileList&&window.Blob?(navEls[n].setAttribute("_bgcolor",navEls[n].style.backgroundColor||""),addEventHandler(navEls[n],"dragenter",eventCancel),addEventHandler(navEls[n],"dragexit",function(t){eventCancel(t);var e="";void 0!=this.getAttribute("_dragcolor_out")&&(e=this.getAttribute("_dragcolor_out")),this.style.backgroundColor=e}),addEventHandler(navEls[n],"dragover",function(t){eventCancel(t),this.style.backgroundColor=this.getAttribute("data-color-over")||"#ebebeb"},!1),navEls[n].addEventListener("drop",function(t){this.style.backgroundColor=this.getAttribute("_bgcolor"),fileUploadBehavior(t,this)})):setText(navEls[n],"Fileupload via dragdrop is not supported in your browser.");else if(in_array("float",behaviors)){var id=navEls[n].getAttribute("id");if(id){var t=navEls[n].getAttribute("data-top");void 0!=t&&(t=navEls[n].getAttribute("top")),floatDiv(id,t)}}else if(in_array("pin",behaviors))navEls[n].onmouseout=function(e){if(void 0==e&&(e=fixE(e)),void 0!=e&&checkMouseLeave(this,e)){this.style.display="none";var onhide=this.getAttribute("onhide");onhide&&eval(onhide)}};else if(in_array("marquee",behaviors)){var attr=getAllAttributes(navEls[n]);void 0!=attr.id&&marquee(attr.id)}else if(in_array("dropdown",behaviors)){var dname=navEls[n].getAttribute("data-display");void 0==dname&&(dname=navEls[n].getAttribute("display")),dname&&(navEls[n].style.position="relative",navEls[n].onclick=function(){var t=this.getAttribute("data-display");if(void 0==t&&(t=this.getAttribute("display")),dObj=getObject(t)){if("block"==dObj.style.display)return!0;dObj.style.display="block",dObj.style.position="absolute",dObj.style.bottom="-201px",dObj.style.height="200px",dObj.style.left="0px",dObj.style.zIndex="999999",dObj.style.backgroundColor="#FFF"}},navEls[n].onmouseout=function(e){if(void 0==e&&(e=fixE(e)),void 0!=e&&checkMouseLeave(this,e)){var dname=this.getAttribute("data-display");if(void 0==dname&&(dname=this.getAttribute("display")),dObj=getObject(dname)){var hide=0;if(void 0!=dObj.className)-1==dObj.className.indexOf("current")&&hide++;else{var cclass=dObj.getAttribute("class");void 0==cclass?hide++:-1==cclass.indexOf("current")&&hide++}hide&&(dObj.style.display="none")}var onhide=this.getAttribute("onhide");onhide&&eval(onhide)}})}else if(in_array("menu",behaviors)){var dname=navEls[n].getAttribute("data-display");void 0==dname&&(dname=navEls[n].getAttribute("display")),dname&&(navEls[n].onmouseover=function(){var t=this.getAttribute("data-display");if(void 0==t&&(t=this.getAttribute("display")),dObj=getObject(t)){if("block"==dObj.style.display)return!0;dObj.style.display="block"}var e=this.getAttribute("mouse"),i=this.getAttribute("x"),a=this.getAttribute("y");if(void 0!=e){var o=0,r=0;-1!=e.indexOf("x")?o=MouseX:-1!=e.indexOf("y")?r=MouseY:(o=MouseX,r=MouseY),void 0!=i&&(xvalue=i+"",o=Math.round(-1!=xvalue.indexOf("+")?MouseX+parseInt(xvalue):-1!=xvalue.indexOf("-")?MouseX-Math.abs(parseInt(xvalue)):Math.abs(parseInt(xvalue)))),void 0!=a&&(yvalue=a+"",r=Math.round(-1!=yvalue.indexOf("+")?MouseY+parseInt(yvalue):-1!=yvalue.indexOf("-")?MouseY-Math.abs(parseInt(yvalue)):Math.abs(parseInt(yvalue)))),dObj.style.position="absolute",dObj.style.top=r+"px",dObj.style.left=o+"px"}},navEls[n].onmouseout=function(e){if(void 0==e&&(e=fixE(e)),void 0!=e&&checkMouseLeave(this,e)){var dname=this.getAttribute("data-display");if(void 0==dname&&(dname=this.getAttribute("display")),dObj=getObject(dname)){var hide=0;if(void 0!=dObj.className)-1==dObj.className.indexOf("current")&&hide++;else{var cclass=dObj.getAttribute("class");void 0==cclass?hide++:-1==cclass.indexOf("current")&&hide++}hide&&(dObj.style.display="none")}var onhide=this.getAttribute("onhide");onhide&&eval(onhide)}})}else if(in_array("scrolltable",behaviors)){var id=navEls[n].getAttribute("id"),h=navEls[n].getAttribute("data-scrollheight");void 0==h&&(h=navEls[n].getAttribute("scrollheight"));var w=navEls[n].getAttribute("data-scrollwidth");void 0==w&&(w=navEls[n].getAttribute("scrollwidth")),id&&scrollableTable(navEls[n],h,w)}else if(in_array("slideshow",behaviors)){var id=navEls[n].getAttribute("id");if(id){addClass(navEls[n],"w_slideshow");var t=navEls[n].getAttribute("data-timer");void 0==t&&(t=navEls[n].getAttribute("timer"));var navobj=getObject(id+"_nav");if(void 0!=navobj){var tag=navEls[n].getAttribute("data-tag");void 0==tag&&(tag="img");var objs=navEls[n].getElementsByTagName(tag);if(0!=objs.length){for(var txt="",n=0;n<objs.length;n++){var navtitle=objs[n].getAttribute("title");void 0==navtitle&&(navtitle=""),txt+=t?'<div id="'+id+"_nav_"+n+'" data-tooltip="'+navtitle+'" data-tooltip_position="bottom" class="" onclick="slideShow(\''+id+"',"+n+","+t+');"></div>':'<div id="'+id+"_nav_"+n+'" data-tooltip="'+navtitle+'" data-tooltip_position="bottom" class=""  onclick="slideShow(\''+id+"',"+n+');"></div>'}setText(navobj,txt)}}t?slideShow(id,0,t):slideShow(id,0)}}else if(in_array("sticky",behaviors)){var pos=getPos(navEls[n]),wh=getWidthHeight(navEls[n]);navEls[n].setAttribute("sticky_y",pos.y+wh[1]),navEls[n].setAttribute("sticky_x",pos.x+wh[0]),void 0!=navEls[n].style.zIndex&&navEls[n].setAttribute("sticky_z",navEls[n].style.zIndex),0==calledStickyMenus&&(addEventHandler(window,"scroll",stickyMenus),calledStickyMenus=1)}else if(in_array("stopwatch",behaviors)){var id=navEls[n].getAttribute("id");id&&stopWatch(id,0)}else if(in_array("time",behaviors)){var id=navEls[n].getAttribute("id");id&&startClock(id,0)}else for(b in behaviors){var behavior=behaviors[b],id=navEls[n].getAttribute("id"),re=new RegExp("^@([a-z]+)[(](.+)[)]$","igm"),res=re.exec(behavior);if(res&&res.length>0){var func=res[1].toLowerCase(),str=res[2].toLowerCase();switch(func){case"sum":for(var result=0,sids=str.split(/[,:\s]+/),s=0;s<sids.length;s++)result+=Math.round(getText(sids[s]));setText(navEls[n],result);break;case"math":doMath(id);break;case"raid":var cObj=getObject(str);"object"==typeof cObj&&(setText(cObj,getText(navEls[n])),navEls[n].setAttribute("raidid",str),navEls[n].onkeypress=function(){var t=this.getAttribute("raidid");setText(t,getText(this))},navEls[n].onblur=function(){var t=this.getAttribute("raidid");setText(t,getText(this))})}}}}for(var tobs=GetElementsByAttribute("*","data-tooltip",".+"),i=0;i<tobs.length;i++)addEventHandler(tobs[i],"mouseover",function(){tooltipDiv(this)}),addEventHandler(tobs[i],"mouseout",function(){fadeId("w_tooltip",1)})}function stickyMenus(){for(var t=GetElementsByAttribute("*","data-behavior","sticky"),e=getWindowScrollPosition(),i=0;i<t.length;i++){var a=t[i].getAttribute("sticky_y");e>=a&&"fixed"!=t[i].style.position&&(t[i].style.position="fixed",t[i].style.top=0,t[i].style.width="100%",t[i].style.zIndex=99999,void 0!=t[i].id&&fadeIn(t[i].id)),a>e&&"relative"!=t[i].style.position&&(t[i].style.position="relative",t[i].style.top="",t[i].style.width="",t[i].style.zIndex=void 0!=t[i].getAttribute("sticky_z")?t[i].getAttribute("sticky_z"):"")}}function removeTinyMCE(t){tinyMCE.getInstanceById(t)&&tinyMCE.execCommand("mceRemoveControl",!1,t)}function addOnLoadEvent(t){addEventHandler(window,"load",t)}function addEvent(t,e,i){return addEventHandler(t,e,i)}function addEventHandler(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}function removeEvent(t,e,i){return removeEventHandler(t,e,i)}function removeEventHandler(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]={}}function codemirrorTextEditor(t,e,i){if(t=getObject(t),void 0!=t.getAttribute("codeeditor_processed"))return!1;var a=!1;void 0!=t.getAttribute("readonly")&&(a=!0);var o={};void 0==t.getAttribute("data-nokeys")&&(o={F1:function(t){codemirrorHelp(t)},F5:function(t){var e=t.getTextArea(),i="centerpop";if(void 0!=e.getAttribute("ajaxid")?i=e.getAttribute("ajaxid"):void 0!=e.getAttribute("data-ajaxid")&&(i=e.getAttribute("data-ajaxid")),void 0!=e.getAttribute("preview")){t.save();var a=getElementForm(t.getWrapperElement());void 0!=a._action&&(a._action.value="EDIT"),void 0!=a._preview&&void 0!=a.name&&(a._preview.value=a.name.value),ajaxSubmitForm(a,i)}else ajaxGet("/php/index.php",i,"ajaxid="+i+"&_sqlpreview_="+t.getValue())},F6:function(t){var e=t.getOption("mode");switch(e){case"application/x-httpd-php":case"application/x-perl":t.replaceRange("$rtn .= '",t.getCursor(!0),t.getCursor(!1));break;case"application/x-ruby":t.replaceRange("rtn .= '",t.getCursor(!0),t.getCursor(!1));break;case"text/javascript":t.replaceRange("rtn += '",t.getCursor(!0),t.getCursor(!1))}},F7:function(t){var e=t.getOption("mode");switch(e){case"application/x-httpd-php":case"application/x-perl":case"application/x-ruby":t.replaceRange('\'."\\r\\n";',t.getCursor(!0),t.getCursor(!1));break;case"text/javascript":t.replaceRange('\'+"\\r\\n";',t.getCursor(!0),t.getCursor(!1))}},F11:function(t){var e=t.getScrollerElement(),i=t.getWrapperElement(),a=i.getAttribute("isfullscreen");void 0==a||1!=a?(i.setAttribute("isfullscreen",1),i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.height="100%",i.style.width="100%",i.style.zIndex=99999,i.style.backgroundColor="#FFFFFF",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.zIndex=99999,e.style.height="100%",e.style.width="100%",t.refresh()):(i.setAttribute("isfullscreen",0),i.style.position="relative",e.style.position="relative",i.style.zIndex=10,e.style.zIndex=10,e.style.height=i.getAttribute("setheight"),e.style.width=i.getAttribute("setwidth"),i.style.height=i.getAttribute("setheight"),i.style.width=i.getAttribute("setwidth"),t.refresh())},"Ctrl-Q":function(t){for(var e=t.lineCount(),i=0;e>i;i++)n(t,i)}});var r={mode:e,behavior:i,viewportMargin:"Infinity",indentUnit:4,indentWithTabs:!0,enterMode:"keep",tabMode:"shift",matchBrackets:!0,electricChars:!1,readOnly:a,textWrapping:!1,lineWrapping:!0,onBlur:function(t){t.save()},extraKeys:o};if(void 0==t.getAttribute("data-gutter")||"true"==t.getAttribute("data-gutter")){var n=CodeMirror.newFoldFunction(CodeMirror.braceRangeFinder);r.gutter=!0,r.fixedGutter=!0,r.onGutterClick=n,r.lineNumbers=!0}else r.gutter=!1,r.fixedGutter=!1,r.lineNumbers=!1;var s=CodeMirror.fromTextArea(t,r),d=s.getWrapperElement();t.setAttribute("codeeditor_processed",1),d.setAttribute("setheight",t.style.height),d.setAttribute("setwidth",t.style.width),d.style.width=t.style.width,d.style.height=t.style.height;var l=s.getScrollerElement();if(l.style.height=t.style.height,l.style.width=t.style.width,void 0!=t.getAttribute("focus")){s.focus();var u=t.getAttribute("focus").split(",",2);u[0]=u[0]-1,2==u.length?s.setCursor(u[0],u[1]):u>0&&s.setCursor(u[0])}}function codemirrorHelp(t){if(void 0!=document.getElementById("codemirrorpop"))return void removeDiv("codemirrorpop");
var e=t.getTextArea(),i=e.getAttribute("data-behavior").toString().toUpperCase(),a="";if(a+='<div class="w_lblue w_bold w_big w_middle"><b style="color:red;">{ }</b> '+i+" Help</div>\n",a+="<div>Navigation Keys</div>\n",a+='<table cellspacing="0" cellpadding="2" border="1" class="w_table">\n',a+="  <tr><th>Function Keys</th><th>Description</th></tr>\n",a+="  <tr><td>F1</td><td>Help Screen Toggle</td></tr>\n",void 0!=e.getAttribute("preview")){var o=e.getAttribute("preview");a+=o.length>1?"  <tr><td>F5</td><td>"+o+"</td></tr>\n":void 0!=e.getAttribute("ajaxid")?"  <tr><td>F5</td><td>Preview</td></tr>\n":"  <tr><td>F5</td><td>Save and Preview Page</td></tr>\n"}else void 0!=e.getAttribute("data-ajaxid")&&(a+="  <tr><td>F5</td><td>Execute SQL</td></tr>\n");return a+="  <tr><td>F6</td><td>Begin $rtn string (mode sensitive)</td></tr>\n",a+="  <tr><td>F7</td><td>End $rtn string (mode sensitive)</td></tr>\n",a+="  <tr><td>F11</td><td>Full Screen Toggle</td></tr>\n",a+="  <tr><th>Search and Replace</th><th>Description</th></tr>\n",a+="  <tr><td>Ctrl-F</td><td>Start searching</td></tr>\n",a+="  <tr><td>Ctrl-G</td><td>Find next</td></tr>\n",a+="  <tr><td>Shift-Ctrl-G</td><td>Find previous</td></tr>\n",a+="  <tr><td>Shift-Ctrl-F</td><td>Replace</td></tr>\n",a+="  <tr><td>Shift-Ctrl-R</td><td>Replace all</td></tr>\n",a+="  <tr><th>Misc Keys</th><th>Description</th></tr>\n",a+="  <tr><td>Ctrl-Q</td><td>Fold all code groups toggle.</td></tr>\n",a+="</table>\n",a+='<div align="right"></div>\n',codemirrorPopup(a),!0}function codemirrorPopup(t){void 0!=document.getElementById(t)&&(t=getText(t)),popUpDiv("",{id:"codemirrorpop",drag:1,notop:1,nobot:1,noborder:1,nobackground:1,bodystyle:"padding:0px;border:0px;background:none;"}),setText("codemirrorpop",t),centerObject("codemirrorpop",1)}function tinymceInitialize(){{var t="bold,italic,underline,|,forecolor,backcolor,|,justifyleft,justifycenter,justifyright,|,bullist,numlist,outdent,indent,|,charmap,image,media,link,unlink,formatselect,code,fullscreen,fontsizeselect",e="",i="";tinyMCE.init({mode:"none",theme:"advanced",plugins:"table,advhr,inlinepopups,contextmenu,media,paste,fullscreen,visualchars,nonbreaking,xhtmlxtras,template,advlist,advimage",submit_patch:!1,paste_auto_cleanup_on_paste:!0,paste_text_replacements:[[/\u2026/g,"..."],[/[\x93\x94\u201c\u201d]/g,'"'],[/[\x60\x91\x92\u2018\u2019]/g,"'"],[/.*((https?|ssh|ftp|file):\/\/\S+).*/gi,'<a href="$1">$1</a>'],[/.*((https?|ssh|ftp|file):\/\/\S+((\.)bmp|gif|jpe?g|png|psd|tif?f)).*/gi,'<img src="$1" alt="image" />']],theme_advanced_buttons1:t,theme_advanced_buttons2:e,theme_advanced_buttons3:i,theme_advanced_buttons4:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_resizing:!0})}}function fullScreenToggle(t){var e=getObject(t);if(void 0==e)return!1;var i=e.getAttribute("fullscreen");if(void 0==i||0==i){var a=getWidthHeight(e);e.setAttribute("fullscreen",1),e.setAttribute("width_ori",a[0]),e.setAttribute("height_ori",a[1]),e.style.width=document.body.clientWidth+"px",e.style.height=document.body.clientHeight+"px"}else e.setAttribute("fullscreen",0),e.style.width=e.getAttribute("width_ori")+"px",e.style.height=e.getAttribute("height_ori")+"px"}function floatDiv(t,e){var i=getObject(t),a=0;if(void 0!=i.parentNode&&parseInt(i.parentNode.scrollTop)>0)a=parseInt(i.parentNode.scrollTop);else if(void 0!=document.documentElement&&parseInt(document.documentElement.scrollTop)>0)a=parseInt(document.documentElement.scrollTop);else{if(!(void 0!=document.body&&parseInt(document.body.scrollTop)>0))return!1;a=parseInt(document.body.scrollTop)}var o=parseInt(e),r=Math.round(a+o);i.style.top=r+"px",setTimeout("floatDiv('"+t+"','"+e+"')",250)}function addDragToTextarea(t){var e=document.getElementById(t),i=(Math.round(e.offsetWidth+10),e.id+"_dragarea"),a=(e.id+"_dragcheckbox",findPosX(e)),o=findPosY(e),r=Math.round(a+e.offsetWidth-6),n=Math.round(o+e.offsetHeight-12),s='<span parentid="'+t+'" textareadrag="1" id="'+i+'" style="position:absolute;left:'+r+"px;top:"+n+'px;cursor:crosshair;color:#7F9DB9;font-size:13pt;font-family:times;" title="Drag to adjust size">&#9688;</span>',d=getParent(e);d.insertAdjacentHTML("beforeEnd",s);var l=document.getElementById(i);Drag.init(l),l.onDrag=function(t,e){var i=this.getAttribute("parentid"),r=document.getElementById(i),n=Math.round(t-a+6),s=Math.round(e-o+12);n>0&&(r.style.width=n+"px"),s>0&&(r.style.height=s+"px");for(var d=this.id,l=GetElementsByAttribute("span","textareadrag","1"),u=0;u<l.length;u++)if(l[u].id!=d){var c=l[u].getAttribute("parentid");if(void 0!=c){var v=document.getElementById(c),h=findPosX(v),m=findPosY(v),g=Math.round(h+v.offsetWidth-6),b=Math.round(m+v.offsetHeight-12);l[u].lastMouseX=g,l[u].lastMouseY=b,l[u].style.left=g+"px",l[u].style.top=b+"px"}}}}function storeCaret(t){"undefined"!=typeof t.createTextRange&&(t.caretPos=document.selection.createRange().duplicate())}function replaceText(t,e){if("undefined"!=typeof e.caretPos&&e.createTextRange){var i=e.caretPos;i.text=" "==i.text.charAt(i.text.length-1)?t+" ":t,i.select()}else if("undefined"!=typeof e.selectionStart){var a=e.value.substr(0,e.selectionStart),o=e.value.substr(e.selectionEnd),r=e.scrollTop;e.value=a+t+o,e.setSelectionRange&&(e.focus(),e.setSelectionRange(a.length+t.length,a.length+t.length)),e.scrollTop=r}else e.value+=t,e.focus(e.value.length-1)}function surroundText(t,e,i){if("undefined"!=typeof i.caretPos&&i.createTextRange){var a=i.caretPos;a.text=" "==a.text.charAt(a.text.length-1)?t+a.text+e+" ":t+a.text+e,a.select()}else if("undefined"!=typeof i.selectionStart){var o=i.value.substr(0,i.selectionStart),r=i.value.substr(i.selectionStart,i.selectionEnd-i.selectionStart),n=i.value.substr(i.selectionEnd),s=i.selectionStart,d=i.scrollTop;i.value=o+t+r+e+n,i.setSelectionRange&&(0==r.length?i.setSelectionRange(s+t.length,s+t.length):i.setSelectionRange(s,s+t.length+r.length+e.length),i.focus()),i.scrollTop=d}else i.value+=t+e,i.focus(i.value.length-1)}function isEmptyText(t){for(var e=t.value;e.length>0&&(" "==e.charAt(0)||"	"==e.charAt(0));)e=e.substring(1,e.length);for(;e.length>0&&(" "==e.charAt(e.length-1)||"	"==e.charAt(e.length-1));)e=e.substring(0,e.length-1);return""==e?!0:!1}function findPosX(t){var e=0;if(t.offsetParent)for(;t.offsetParent;)e+=t.offsetLeft,t=t.offsetParent;else t.x&&(e+=t.x);return e}function findPosY(t){var e=0;if(t.offsetParent)for(;t.offsetParent;)e+=t.offsetTop,t=t.offsetParent;else t.y&&(e+=t.y);return e}function slideShow(t,e,i){void 0==i&&(i=5);var a=Math.round(1e3*i);e=Math.round(e+0);var o=getObject(t),r=o.getAttribute("data-transition");if(id="slideshow"+t,clearTimeout(TimoutArray[id]),isMouseOver(t))return void(TimoutArray[id]=setTimeout("slideShow('"+t+"',"+e+","+i+")",a));var n=o.getAttribute("data-tag");void 0==n&&(n="img");var s=o.getElementsByTagName(n);if(0==s.length)return alert("SlideShow Error: - No images found"),!1;e==s.length&&(e=0);for(var d=0;d<s.length;d++){var l=s[d].getAttribute("data-caption");void 0!=r&&void 0==s[d].getAttribute("data-transition")&&s[d].setAttribute("data-transition",r),s[d].id="w_slide",setStyle(s[d],"display","block"),void 0==l&&(l="");var u=getObject(t+"_nav");if(d==e){if(addClass(s[d],"opaque"),void 0!=s[d].getAttribute("data-function")){var c=s[d].getAttribute("data-function");window[c](s[d])}if(void 0!=u){var v=getObject(t+"_nav_"+d);addClass(v,"active")}}else{if(removeClass(s[d],"opaque"),void 0!=u){var v=getObject(t+"_nav_"+d);removeClass(v,"active")}l=""}setText(t+"_caption",l)}e=Math.round(e+1),TimoutArray[id]=setTimeout("slideShow('"+t+"',"+e+","+i+")",a)}function stopWatch(t){clearTimeout(TimoutArray[t]);var e=getObject(t);e.onfocus=function(){this.setAttribute("hasfocus",1)},e.onblur=function(){this.setAttribute("hasfocus",0)};var i=e.getAttribute("hasfocus");if(void 0!=i&&1==i)return!1;var a=getText(t),o=0,r=0,n=0;if(a.length){var s=a.split(":");o=parseInt(s[0]),r=parseInt(s[1]),n=parseInt(s[2])}n++,60==n&&(n=0,r++),60==r&&(r=0,o++);var d=o+":"+r+":"+n;setText(t,d),TimoutArray[t]=setTimeout("stopWatch('"+t+"')",1e3)}function ajaxTimer(t){clearTimeout(TimoutArray[t]);var e=getObject(t);if(void 0!=e){var i=getAllAttributes(e);if(number=parseInt(void 0!=i.countdown?i.countdown:i.timer),number--,e.setAttribute("countdown",number),0>=number){var a=i.url.split("?"),o="";void 0!=a[1]&&(o=a[1]),ajaxGet(a[0],i.id,o),e.setAttribute("countdown",i.timer)}TimoutArray[t]=setTimeout("ajaxTimer('"+t+"')",1e3)}}function countDown(id){clearTimeout(TimoutArray[id]);var obj=getObject(id);if(void 0!=obj){var number=parseInt(getText(id));number--,setText(id,number);var cb=obj.getAttribute("callback");if(cb){var func=cb+"('"+id+"','"+number+"')";eval(func)}TimoutArray[id]=setTimeout("countDown('"+id+"')",1e3)}}function countDownDate(t,e,i,a,o,r,n){void 0==n&&(n="");var s=getObject(t);if(void 0!=s){theyear=e,themonth=i,theday=a,thehour=o,theminute=r;var d=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),l=new Date,u=l.getYear();1e3>u&&(u+=1900);var c=l.getMonth(),v=l.getDate(),h=l.getHours(),m=l.getMinutes(),g=l.getSeconds(),b=d[c]+" "+v+", "+u+" "+h+":"+m+":"+g;if(0==n.length)var p=Date.parse(b)+1e3*n*60*60;else var p=Date.parse(b);var f=d[i-1]+" "+a+", "+e+" "+o+":"+r,y=Date.parse(f)-6e4*l.getTimezoneOffset(),x=y-p,E=Math.floor(x/864e5*1),w=Math.floor(x%864e5/36e5*1),A=Math.floor(x%864e5%36e5/6e4*1),_=Math.floor(x%864e5%36e5%6e4/1e3*1);if(0>=E&&0>=w&&0>=A&&0>=_)return void(s.style.display="none");9>=w&&(w="0"+w),9>=A&&(A="0"+A),9>=_&&(_="0"+_);var j='<table  class="w_countdown">\r\n';j+='<tr align="center"><th>'+E+"</th><th>"+w+"</th><th>"+A+"</th><th>"+_+"</th></tr>\r\n",j+='<tr align="center"><td>Day</td><td>Hour</td><td>Min</td><td>Sec</td></tr>\r\n',j+="</table>\r\n",setText(s,j),0==n.length?setTimeout("countDownDate('"+t+"',theyear,themonth,theday,thehour,theminute)",1e3):setTimeout("countDownDate('"+t+"',theyear,themonth,theday,thehour,theminute,tz)",1e3)}}function startClock(t,e){clearTimeout(TimoutArray[t]);var i=new Date,a=i.getHours(),o=i.getMinutes(),r=i.getSeconds(),n=" am";a>12&&(a-=12,n=" pm"),12==a&&(n=" pm");var s="";10>a&&(s+="0"),s+=a,s+=":",10>o&&(s+="0"),s+=o,s+=":",10>r&&(s+="0"),s+=r,s+=n,setText(t,s),e&&(TimoutArray[t]=setTimeout("startClock('"+t+"',"+e+")",1e3))}function startUTCClock(t,e){void 0==e&&(e=!1),clearTimeout(TimoutArray[t]),obj=getObject(t);var i=Math.round(obj.getAttribute("data-offset")),a=new Date;a.isDST()&&(i=Math.round(obj.getAttribute("data-offset-dst")),void 0==i&&(i=Math.round(obj.getAttribute("data-offset"))));var o=a.getUTCHours();a.getDate()!=a.getUTCDate()&&(o+=24);var o=o+i,r=a.getUTCMinutes(),n=a.getUTCSeconds(),s=" am";o>24?(o-=24,s="am"):o>12?(o-=12,s="pm"):12==o&&(s="pm");var d=obj.getAttribute("data-format");void 0==d&&(d="h:m:s p");var l=1e3;-1==d.indexOf("s")&&(l=15e3);new Array;-1!=d.indexOf("h")&&(d=d.replace("h",o)),-1!=d.indexOf("m")&&(10>r&&(r="0"+r),d=d.replace("m",r)),-1!=d.indexOf("s")&&(10>n&&(n="0"+n),d=d.replace("s",n)),-1!=d.indexOf("p")&&(d=d.replace("p",s)),setText(t,d),e&&(TimoutArray[t]=setTimeout("startUTCClock('"+t+"',"+e+")",l))}function startRaid(t,e){clearTimeout(TimoutArray[t]),setText(t,getText(e)),TimoutArray[t]=setTimeout("startRaid('"+t+"','"+e+"')",250)}function startSum(t,e){clearTimeout(TimoutArray[t]);for(var i=GetElementsByAttribute("*","id",e),a=0,o=0;o<i.length;o++){var r=getText(i[o]),n=Math.round(r);a+=n}setText(t,a),TimoutArray[t]=setTimeout("startSum('"+t+"','"+e+"')",250)}function detectLeftButton(t){t=t||window.event;var e=t.which||t.button;return 1==e}function doMath(id){var behavior=document.getElementById(id).getAttribute("data-behavior").toLowerCase(),re=new RegExp("^@([a-z]+)[(](.+)[)]$","igm"),str,res=re.exec(behavior);if(res&&res.length>0){for(var func=res[1].toLowerCase(),str=res[2].toLowerCase(),result=0,mre=new RegExp("([a-z0-9_]+)","igm");mres=mre.exec(str);)if(mres&&mres.length>0){var mname=mres[1],txt=getText(mres[1]),evalstr="str.replace(/"+mname+"/,'"+txt+"')";str=eval(evalstr)}try{str=eval(str),setText(id,str)}catch(err){setText(id,err)}}}function stopTimeout(t){clearTimeout(TimoutArray[t])}function checkMouseEnter(t,e){return t.contains&&e.fromElement?!t.contains(e.fromElement):e.relatedTarget?!containsDOM(t,e.relatedTarget):void 0}function checkMouseLeave(t,e){return t.contains&&void 0!=e.toElement?!t.contains(e.toElement):e.relatedTarget?!containsDOM(t,e.relatedTarget):void 0}function containsDOM(t,e){var i=!1;do{if(i=t==e)break;e=e.parentNode}while(null!=e);return i}function isOver(t,e){var i=getPos(t),a=getWidth(t),o=i.x+parseInt(a/2),r=getPos(e),n=getWidth(e),s=getHeight(e),d=r.x+n,s=r.y+s;return o>r.x&&d>o&&i.y>r.y&&i.y<s?!0:!1}function initDrop(tagname,tagatt,attval){void 0==tagname&&(tagname="div"),void 0==tagatt&&(tagatt="data-behavior"),void 0==attval&&(attval="dropdown");for(var navEls=GetElementsByAttribute(tagname,tagatt,attval),n=0;n<navEls.length;n++)navEls[n].onmouseout=function(e){if(void 0==e&&(e=fixE(e)),void 0!=e&&checkMouseLeave(this,e)){this.style.display="none";var onhide=this.getAttribute("onhide");onhide&&eval(onhide)}}}function wasqlMarkerForm(){var t=getObject("centerpop");void 0==t&&ajaxGet("/php/index.php","centerpop",{_template:4,mousex:MouseX,mousey:MouseY,_marker:"click"})}function wasqlMarkerTagsJson(t){var e=getText(t);wasqlmarkers=parseJSONString(e);for(var i in wasqlmarkers)wasqlMarkerTag(wasqlmarkers[i].x,wasqlmarkers[i].y,wasqlmarkers[i].page,wasqlmarkers[i].priority)}function wasqlMarkerTag(t,e,i,a){var o=getObject("_markernulldiv");if(void 0==o)return"no _markernulldiv div";var r="_marker_"+t+"_"+e+"_"+i,n="#337ab7";switch(a){case 0:n="#bc1717";break;case 1:n="#cf312c";break;case 2:n="#337ab7";break;case 3:n="#bcbcbc"}var s=0==i?"icon-tags":"icon-tag",d='<span class="'+s+' w_pointer" style="font-size:2rem;color:'+n+';"></span>',l=getObject(r);return void 0!=l?(setText(l,d),r):(l=document.createElement("div"),l.id=r,l.style.position="absolute",l.style.display="inline",l.style.zIndex=600,l.style.top=e+"px",l.style.left=t+"px",setText(l,d),document.body.appendChild(l),new Array(t,e,i,a,r,n,d))}function wasqlMarkerLoad(){var t=getObject("_markernulldiv");if(void 0==t){var e=document.createElement("div");e.style.display="none",document.body.appendChild(e);var i=document.createElement("div");i.id="_markernulldiv",e.appendChild(i),ajaxGet("/php/index.php","_markernulldiv",{_template:4,_marker:"load"})}}function wasqlMarkerInit(t,e){void 0==t&&(t=document.body),void 0==e&&(e="icon-tags"),t=getObject(t),wasqlMarkerLoad(),fontIconCursor(t,e),addEventHandler(t,"click",function(t){return cancelBubble(t),t.altKey&&t.ctrlKey?(wasqlMarkerForm(),!1):!1})}var MouseX=0,MouseY=0,cursor={x:0,y:0};document.onmousemove?document.onmousemove=mouseMove:document.addEventListener?(document.addEventListener("mousedown",mouseMove,!1),document.addEventListener("mouseup",mouseMove,!1),document.addEventListener("mousemove",mouseMove,!1)):document.attachEvent?(document.attachEvent("onmousedown",mouseMove),document.attachEvent("onmouseup",mouseMove),document.attachEvent("onmousemove",mouseMove)):document.captureEvents&&document.captureEvents(Event.MOUSEDOWN|Event.MOUSEMOVE|Event.MOUSEUP);var d=document,ns=-1!=navigator.appName.indexOf("Netscape"),changeState=new Array,changeValue=new Array,nicEditors=new Array,OnLoad="",schedulePageID="";sfHover=function(){for(var t=GetElementsByAttribute("ul","id","w_nav"),e=0;e<t.length;e++)for(var i=t[e].getElementsByTagName("LI"),a=0;a<i.length;a++)i[a].onmouseover=function(){this.className="sfhover"},i[a].onmouseout=function(){this.className=""}},addEventHandler(window,"load",sfHover);var calledStickyMenus=0;addEventHandler(window,"load",initBehaviors);var tinymceInitialized=0,TimoutArray=new Array,Drag={obj:null,init:function(t,e,i,a,o,r,n,s,d,l){t=getObject(t),t.onmousedown=Drag.start,t.hmode=n?!1:!0,t.vmode=s?!1:!0,t.root=e&&null!=e?e:t,t.hmode&&isNaN(parseInt(t.root.style.left))&&(t.root.style.left="0px"),t.vmode&&isNaN(parseInt(t.root.style.top))&&(t.root.style.top="0px"),!t.hmode&&isNaN(parseInt(t.root.style.right))&&(t.root.style.right="0px"),!t.vmode&&isNaN(parseInt(t.root.style.bottom))&&(t.root.style.bottom="0px");var u=parseInt(t.vmode?t.root.style.top:t.root.style.bottom),c=parseInt(t.hmode?t.root.style.left:t.root.style.right);t.startX=c,t.startY=u,t.minX="undefined"!=typeof i?i:null,t.minY="undefined"!=typeof o?o:null,t.maxX="undefined"!=typeof a?a:null,t.maxY="undefined"!=typeof r?r:null,t.xMapper=d?d:null,t.yMapper=l?l:null,t.onmouseover=function(){this.style.cursor="move"},t.root.onDragStart=new Function,t.root.onDragEnd=new Function,t.root.onDrag=new Function},start:function(t){var e=Drag.obj=this;t=Drag.fixE(t);var i=parseInt(e.vmode?e.root.style.top:e.root.style.bottom),a=parseInt(e.hmode?e.root.style.left:e.root.style.right);return e.root.onDragStart(a,i),Drag.obj.lastX=a,Drag.obj.lastY=i,e.lastMouseX=t.clientX,e.lastMouseY=t.clientY,e.hmode?(null!=e.minX&&(e.minMouseX=t.clientX-a+e.minX),null!=e.maxX&&(e.maxMouseX=e.minMouseX+e.maxX-e.minX)):(null!=e.minX&&(e.maxMouseX=-e.minX+t.clientX+a),null!=e.maxX&&(e.minMouseX=-e.maxX+t.clientX+a)),e.vmode?(null!=e.minY&&(e.minMouseY=t.clientY-i+e.minY),null!=e.maxY&&(e.maxMouseY=e.minMouseY+e.maxY-e.minY)):(null!=e.minY&&(e.maxMouseY=-e.minY+t.clientY+i),null!=e.maxY&&(e.minMouseY=-e.maxY+t.clientY+i)),document.onmousemove=Drag.drag,document.onmouseup=Drag.end,!1},drag:function(t){t=Drag.fixE(t);var e,i,a=Drag.obj,o=t.clientY,r=t.clientX,n=parseInt(a.vmode?a.root.style.top:a.root.style.bottom),s=parseInt(a.hmode?a.root.style.left:a.root.style.right);null!=a.minX&&(r=a.hmode?Math.max(r,a.minMouseX):Math.min(r,a.maxMouseX)),null!=a.maxX&&(r=a.hmode?Math.min(r,a.maxMouseX):Math.max(r,a.minMouseX)),null!=a.minY&&(o=a.vmode?Math.max(o,a.minMouseY):Math.min(o,a.maxMouseY)),null!=a.maxY&&(o=a.vmode?Math.min(o,a.maxMouseY):Math.max(o,a.minMouseY)),e=s+(r-a.lastMouseX)*(a.hmode?1:-1),i=n+(o-a.lastMouseY)*(a.vmode?1:-1),a.xMapper?e=a.xMapper(n):a.yMapper&&(i=a.yMapper(s)),Drag.obj.root.style[a.hmode?"left":"right"]=e+"px",Drag.obj.root.style[a.vmode?"top":"bottom"]=i+"px",Drag.obj.lastMouseX=r,Drag.obj.lastMouseY=o,Drag.obj.root.onDrag(e,i);for(var d=GetElementsByAttribute("*","_ondragover",".+"),l=0;l<d.length;l++)if(isOver(Drag.obj,d[l])){var u=d[l].getAttribute("_ondragover");d[l].setAttribute("_dragover",1);for(var c=new Object,v=0;v<d[l].attributes.length;v++){var h=d[l].attributes[v];c[h.name]=h.value}for(var m=new Object,v=0;v<Drag.obj.root.attributes.length;v++){var h=Drag.obj.root.attributes[v];m[h.name]=h.value}m.startX=Drag.obj.startX,m.startY=Drag.obj.startY,window[u](c,m)}else{var g=d[l].getAttribute("_dragover");if(void 0!=g&&1==g&&void 0!=d[l].getAttribute("_ondragout")){d[l].setAttribute("_dragover",0);for(var u=d[l].getAttribute("_ondragout"),c=new Object,v=0;v<d[l].attributes.length;v++){var h=d[l].attributes[v];c[h.name]=h.value}for(var m=new Object,v=0;v<Drag.obj.root.attributes.length;v++){var h=Drag.obj.root.attributes[v];m[h.name]=h.value}m.startX=Drag.obj.startX,m.startY=Drag.obj.startY,window[u](c,m)}}return!1},end:function(){document.onmousemove=null,document.onmouseup=null,Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"]));var t=Drag.obj.getAttribute("data-ondragend");if(void 0==t&&(t=Drag.obj.getAttribute("_ondragend")),void 0!=t){for(var e=new Object,i=0;i<Drag.obj.attributes.length;i++){var a=Drag.obj.attributes[i];e[a.name]=a.value}e.drag_x=parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),e.drag_y=parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"]),window[t](e)}for(var o=GetElementsByAttribute("*","_ondrop",".+"),r=0;r<o.length;r++)if(isOver(Drag.obj,o[r])){for(var n=o[r].getAttribute("_ondrop"),s=new Object,i=0;i<o[r].attributes.length;i++){var a=o[r].attributes[i];s[a.name]=a.value}for(var e=new Object,i=0;i<Drag.obj.root.attributes.length;i++){var a=Drag.obj.root.attributes[i];e[a.name]=a.value}e.startX=Drag.obj.startX,e.startY=Drag.obj.startY,window[n](s,e)}Drag.obj=null},fixE:function(t){return"undefined"==typeof t&&(t=window.event),"undefined"==typeof t.layerX&&(t.layerX=t.offsetX),"undefined"==typeof t.layerY&&(t.layerY=t.offsetY),t}},wasqlmarkers={},wasqlmarker={};